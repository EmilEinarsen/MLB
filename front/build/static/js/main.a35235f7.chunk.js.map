{"version":3,"sources":["Providers/AuthProvider.tsx","Hooks/useAsync.jsx","Hooks/useServer.tsx","Providers/serverData.ts","Hooks/useInitialFetch.tsx","Providers/PageProvider.tsx","Providers/ThemeProvider.tsx","Hooks/useMediaQuery.tsx","Providers/EditProvider.tsx","Providers/DataProvider.tsx","App/components/ModalEditor/Uploader.tsx","App/components/ModalEditor/CreateForms.tsx","App/components/ModalEditor/ModalEditor.tsx","App/components/ModalEditor/ModalEditorContainer.tsx","App/components/MenuDocument/MenuDocument.tsx","App/Navbar/Navbar.tsx","App/Navbar/NavbarContainer.tsx","Helpers/scroll.ts","Helpers/Helpers.ts","App/components/ListItemFile/ListItemFile.tsx","App/components/ListItemFile/ListItemFileContainer.tsx","App/components/MenuDocument/MenuDocumentContainer.tsx","App/components/Collection/Collection.tsx","App/components/Collection/CollectionContainer.tsx","App/components/List/List.tsx","App/components/List/ListContainer.tsx","App/components/FabBox/FabBox.tsx","App/components/FabBox/FabBoxContainer.tsx","App/Document/Document.tsx","App/Document/DocumentContainer.tsx","App/components/ListToolbar/ListToolbar.tsx","App/components/ListToolbar/ListToolbarContainer.tsx","App/components/AlphabeticalSlider/AlphabeticalSlider.tsx","App/components/AlphabeticalSlider/AlphabeticalSliderContainer.tsx","App/Folder/Folder.tsx","App/Folder/FolderContainer.tsx","App/User/User.tsx","App/User/UserContainer.tsx","App/Main/Main.tsx","App/Main/MainContainer.tsx","App/App.tsx","App/AppContainer.tsx","Hooks/useReduceMotion.tsx","App/LoadingScreen.tsx","App/Auth/Auth.tsx","App/Auth/AuthContainer.tsx","index.tsx"],"names":["EAuthState","ACTION","fetchReducer","state","action","type","initialState","pending","payload","value","error","useAsync","asyncFunction","immediate","useReducer","dispatch","execute","useCallback","a","response","useEffect","reset","baseUrl","DOC","create","get","update","delete","get_all","IMG","COLLECTION","USER","login","postOption","options","JSON","method","headers","cookie","body","stringify","actionUrl","dest","fetchServer","fetch","ok","json","token","set","content","useFetch","altPayload","data","id","email","username","collections","docs","updateData","req","key","requestToDataKey","target","find","Object","assign","docIds","map","doc","deleteDocFile","docId","undefined","useInitialFetch","initial","useRef","useServer","current","navigation","contextAuth","createContext","AuthProvider","children","useState","loading","authState","setAuthState","refMounted","initialFetch","reInitialFetch","loginState","executeLogin","registerState","executeRegister","useObject","customErrors","addError","add","removeError","removeByKey","submitState","authorized","message","success","unauthorize","checkAuthorization","status","Provider","submit","values","logout","destroy","localStorage","clear","theme","createMuiTheme","overrides","MuiCssBaseline","height","overflow","html","scrollbarWidth","width","ThemeProvider","CssBaseline","direction","pages","label","folder","icon","selected","Description","user","Person","contextPage","page","setPage","PageProvider","useStorage","EStatus","EModal","EType","EQuantity","useMediaQuery","size","d","down","useTheme","useMediaQueryMui","up","breakpoints","contextData","FilesProvider","useContext","serverData","setData","serverRequest","resetResponse","rerender","useArray","checked","addCheck","removeCheckByValue","removeByValue","clearChecked","matches","selectedFile","setSelectedFile","selectedCollection","setSelectedCollection","files","hooks","check","file","collection","reload","correctUrl","url","rest","Uploader","props","img","handleImgChange","index","music","handleMusicChange","gutter","span","style","display","gap","onRemove","beforeUpload","fileList","accept","UploadOutlined","CreateDocForm","refForm","imgList","musicList","layout","ref","name","List","fields","remove","padding","field","Item","rules","required","hasFeedback","allowClear","TextArea","showCount","onClick","block","PlusOutlined","CreateCollectionForm","setSelectedDocs","labelAlign","fieldKey","mode","placeholder","onChange","Option","title","SpecialCard","border","borderRadius","placeContent","MinusCircleOutlined","DocForm","initialValues","subtitle","text","CollectionForm","maxLength","defaultValue","ModalEditor","visible","handleClose","handleSave","centered","confirmLoading","onCancel","onOk","okText","modal","edit","cancelText","destroyOnClose","formDataFile","fmData","FormData","append","handleFile","originalFile","array","fieldValues","length","uid","getChangedFieldsValue","previous","getFieldsValue","keys","forEach","ModalEditorContainer","contextEdit","resetModal","none","localImg","setLocalImg","localMusic","setLocalMusic","selectedDocs","saveSingle","validateFields","createMultiple","includes","docsList","defaultMode","quantity","uploadFile","removeFile","EditProvider","EMenuAppearance","setMode","single","names","multiple","filter","request","ids","submittedPayload","fetchRequest","Error","resetSubmitState","saveToData","push","createData","console","log","imgStatus","musicStatus","deleteData","handleSubmit","object","Promise","all","Modal","confirm","ExclamationCircleOutlined","okType","showDelete","Navbar","BottomNavigation","e","position","bottom","BottomNavigationAction","NavbarContainer","getRelativePos","parentPos","parentNode","getBoundingClientRect","targetPos","top","scrollTop","right","left","easeInOutQuad","t","scrollToElm","container","duration","now","to","onDone","start","change","startTime","performance","animateScroll","window","requestAnimationFrame","scrollTo","offsetY","truncate","str","n","useWordBoundary","subString","substr","lastIndexOf","group","sort","b","charCodeAt","reduce","r","useStyles","makeStyles","chipContainer","marginRight","ListItemFile","className","handleCheck","configuration","secondary","classes","ListItem","button","Grid","justify","alignItems","item","ListItemAvatar","Avatar","variant","fontSize","DescriptionTwoTone","ListItemText","primary","paddingRight","Box","color","Image","MusicNote","ListItemSecondaryAction","Checkbox","edge","ListItemFileContainer","MenuItemsDoc","MenuItem","ListItemIcon","Edit","Typography","Delete","MenuItemsList","anchorEl","list","Add","parentMenuOpen","MenuItemsAdd","MenuItemsCollection","NoteAdd","CreateNewFolder","MenuDocument","handleClick","altButton","transformOrigin","appearance","IconButton","MoreVert","Menu","keepMounted","open","onClose","TransitionComponent","Fade","MenuDocumentContainer","setAnchorEl","event","currentTarget","createStyles","accordion","nested","paddingLeft","spacing","Collection","FolderOpen","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","component","disablePadding","CollectionContainer","useBoolean","toggleOpen","toggle","close","setFalse","_List","entries","Divider","dense","pl","image","Empty","PRESENTED_IMAGE_SIMPLE","description","Button","ListContainer","root","FabBox","bind","FabBoxContainer","fabBoxRel","scrollBox","overflowY","alignCard","minHeight","card","minWidth","maxWidth","cardContent","whiteSpace","audioBox","Document","Card","CardHeader","subheader","CardMedia","CardActions","src","controls","CardContent","paragraph","Fab","aria-label","DocumentContainer","flexGrow","toolbar","gridAutoFlow","paddingTop","paddingBottom","ListToolbar","toggleDense","toggleSecondary","toggleContent","drawer","setTrue","AppBar","Toolbar","justifySelf","placement","closable","FormControlLabel","control","Switch","labelPlacement","ListToolbarContainer","markLabel","marginLeft","rail","backgroundColor","thumb","margin","AlphabeticalSlider","marks","handleChange","slider","Slider","orientation","max","min","track","AlphabeticalSliderContainer","arr","mark","scrollContainerChildIntoView","document","querySelector","clientHeight","fabBocRel","folderAligner","inheritHeight","fullWidth","listContainer","Folder","setListContainer","xs","md","k","i","Tooltip","LoopRounded","vertical","horizontal","Hidden","smDown","FolderContainer","useStyle","avatar","actionBox","warningLink","disabledLink","User","handleUsername","handleEmail","handlePassword","underline","disabled","ExitToApp","Link","startIcon","UserContainer","Main","MainContainer","App","AppContainer","matchMedia","useReduceMotion","setMatch","addEventListener","removeEventListener","reduceMotion","LoadingScreen","background","responseGoogle","formItemValidator","validator","reject","resolve","Login","handleFinish","toggleForm","onValuesChange","Form","useForm","form","onFinish","prefix","MailOutlined","Password","LockOutlined","htmlType","clientId","buttonText","onSuccess","onFailure","cookiePolicy","Register","remember","UserOutlined","password","dependencies","getFieldValue","_","Auth","formProps","changedValues","register","AuthContainer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a35235f7.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-expressions */\r\nimport React, { createContext, useEffect, useRef, useState } from 'react'\r\nimport { message } from 'antd'\r\nimport { useObject } from 'bjork_react-hookup'\r\nimport cookie from 'bjork_cookie'\r\nimport useServer, { ACTION } from '../Hooks/useServer'\r\nimport useInitialFetch from '../Hooks/useInitialFetch'\r\nimport { clearData } from './serverData'\r\n\r\ninterface ContextAuth {\r\n\tauthState: EAuthState\r\n\tsetAuthState: React.Dispatch<React.SetStateAction<EAuthState>>\r\n\tsubmit: (value: any) => void\r\n\trefMounted: React.MutableRefObject<undefined>\r\n\tsubmitState: { pending: boolean, value: any, error: any }\r\n\tcustomErrors: any\r\n\tremoveError: any\r\n\tunauthorize: () => void\r\n\tcheckAuthorization: (response: any) => any\r\n\tlogout: () => void\r\n}\r\n\r\nexport enum EAuthState {\r\n\t'login',\r\n\t'register',\r\n\t'authorized',\r\n\t'loading'\r\n}\r\n\r\nexport const contextAuth = createContext<ContextAuth | undefined>(undefined)\r\n\r\nconst AuthProvider: React.FC = ({ children }) => {\r\n\tconst [ authState, setAuthState ] = useState<EAuthState>(EAuthState.loading)\r\n\tconst refMounted = useRef()\r\n\t\r\n\tconst [ initialFetch, reInitialFetch ] = useInitialFetch()\r\n\tconst [ loginState, executeLogin ] = useServer(ACTION.login, undefined, false)\r\n\tconst [ registerState, executeRegister ] = useServer(ACTION.USER.create, undefined, false)\r\n\tconst [ customErrors, , { add: addError, removeByKey: removeError } ] = useObject({})\r\n\r\n\tconst handleSubmit = (values: any) => authState === EAuthState.login ? executeLogin(values) : executeRegister(values)\r\n\tconst submitState = authState === EAuthState.login ? loginState : registerState\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif(authState === EAuthState.authorized || !registerState) return\r\n\t\tregisterState.pending && message.loading({ content: 'Pending...', key: 'register' })\r\n\t\tregisterState.value && (\r\n\t\t\tmessage.success({ content: 'Successful!', key: 'register' }),\r\n\t\t\tsetAuthState(EAuthState.login)\r\n\t\t)\r\n\t\tregisterState.error && (\r\n\t\t\t(async () => addError(await registerState.error.json()))(),\r\n\t\t\tmessage.error({ content: 'Error!', key: 'register' })\r\n\t\t)\r\n\t}, [ registerState ])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(authState === EAuthState.authorized) return\r\n\t\tloginState?.value && (\r\n\t\t\tasync () => (\r\n\t\t\t\tsetAuthState(EAuthState.loading),\r\n\t\t\t\treInitialFetch()\r\n\t\t\t)\r\n\t\t)()\r\n\t}, [ loginState ])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(initialFetch.pending) return\r\n\t\tinitialFetch.error && setAuthState(EAuthState.login)\r\n\t\tinitialFetch.value && setAuthState(EAuthState.authorized)\r\n\t}, [ initialFetch ])\r\n\t\r\n\tuseEffect(() => {\r\n\t\tauthState === EAuthState.loading && (refMounted.current = undefined)\r\n\t}, [authState])\r\n\r\n\tconst unauthorize = () => setAuthState(EAuthState.login)\r\n\r\n\tconst logout = () => (clearData(), cookie.destroy('token'), localStorage.clear(), unauthorize())\r\n\r\n\tconst checkAuthorization = async (response: any) => {\r\n\t\tresponse?.error?.status === 401 && unauthorize()\r\n\t\treturn response\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<contextAuth.Provider value={{\r\n\t\t\tauthState,\r\n\t\t\tsetAuthState,\r\n\t\t\trefMounted,\r\n\t\t\tsubmit: handleSubmit,\r\n\t\t\tsubmitState,\r\n\t\t\tcustomErrors,\r\n\t\t\tremoveError,\r\n\t\t\tunauthorize,\r\n\t\t\tcheckAuthorization,\r\n\t\t\tlogout\r\n\t\t}}>\r\n\t\t\t{children}\r\n\t\t</contextAuth.Provider>\r\n\t)\r\n}\r\n\r\nexport default AuthProvider","import { useEffect, useReducer, useCallback } from 'react'\r\n\r\nconst ACTION = {\r\n\tFETCH: 'FETCH',\r\n\tRESPONSE: 'RESPONSE',\r\n\tRESET: 'RESET'\r\n}\r\n\r\nconst fetchReducer = (state, action) => {\r\n\t// eslint-disable-next-line default-case\r\n\tswitch (action.type) {\r\n\tcase ACTION.FETCH: \r\n\t\treturn {\r\n\t\t\t...initialState,\r\n\t\t\tpending: true\r\n\t\t}\r\n\tcase ACTION.RESPONSE: \r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t...action.payload,\r\n\t\t\tpending: false,\r\n\t\t}\r\n\tcase ACTION.RESET: \r\n\t\treturn { \r\n\t\t\t...initialState \r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\nconst initialState = {\r\n\tpending:  false,\r\n\tvalue:  null,\r\n\terror: null,\r\n}\r\n\r\n/**\r\n * useAsync hook - Returns an array of two elements: state and execute. \r\n * * _state_ {object}: contains three properties: pending, value and error.\r\n * * _execute_ {function}: that executes the provided function _asyncFunction_ and updates the state, depending on resolve or reject\r\n * \r\n * @param {function} asyncFunction - Function to be executed on dispatch\r\n * @param {boolean=true} [immediate] - Determines whether or not _asyncFunction_ should be executed immediately, default true\r\n * @return {array} [ {object} state, {function} execute ]\r\n */\r\nconst useAsync = (asyncFunction, immediate = true) => {\r\n\tconst [ state, dispatch ] = useReducer(fetchReducer, initialState)\r\n\t\r\n\tconst execute = useCallback(async (value) => {\r\n\t\tdispatch({type: ACTION.FETCH})\r\n\r\n\t\ttry {\r\n\r\n\t\t\tlet response = await asyncFunction(value)\r\n\t\t\tdispatch({type: ACTION.RESPONSE, payload: {value: response}})\r\n\r\n\t\t} catch (error) {\r\n\r\n\t\t\tdispatch({type: ACTION.RESPONSE, payload: {error}})\r\n\r\n\t\t}\r\n\t},[asyncFunction])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (immediate) execute()\r\n\t}, [execute, immediate])\r\n\r\n\treturn [\r\n\t\tstate,\r\n\t\texecute,\r\n\t\t{\r\n\t\t\treset: () => dispatch({type: ACTION.RESET })\r\n\t\t}\r\n\t]\r\n}\r\n\r\nexport default useAsync","import React from 'react'\r\nimport useAsync from './useAsync'\r\nimport cookie from 'bjork_cookie'\r\n\r\nexport const baseUrl = 'http://localhost:3000/'\r\n\r\nexport const ACTION = {\r\n    DOC: {\r\n        create: 'doc/create',\r\n        get: 'doc/get',\r\n        update: 'doc/update',\r\n        delete: 'doc/delete',\r\n        \r\n        get_all: 'doc/get_all',\r\n    },\r\n    IMG: {\r\n        create: 'img/create',\r\n        delete: 'img/delete'\r\n    },\r\n    COLLECTION: {\r\n        create: 'collection/create',\r\n        get: 'collection/get',\r\n        update: 'collection/update',\r\n        delete: 'collection/delete',\r\n        \r\n        get_all: 'collection/get_all',\r\n\t},\r\n\tUSER: {\r\n\t\tcreate: 'user/create'\r\n\t},\r\n\tget_all: '',\r\n\tlogin: 'login'\r\n}\r\n\r\nexport const postOption = (payload?: any, options: any = { JSON: true } ): object => ({\r\n    method: 'POST',\r\n    headers: options.JSON ? {\r\n        'Content-Type': 'application/json',\r\n\t\t'Access-Control-Allow-Origin': true,\r\n\t\t'auth': cookie.get('token')\r\n    } : {\r\n\t\t'Access-Control-Allow-Origin': true,\r\n\t\t'auth': cookie.get('token')\r\n    },\r\n    body: options.JSON ? JSON.stringify(payload) : payload,\r\n})\r\n\r\nexport const getOption = (): object => ({\r\n    method: 'GET',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n\t\t'Access-Control-Allow-Origin': true,\r\n\t\t'auth': cookie.get('token')\r\n    }\r\n})\r\n\r\nexport const actionUrl = (dest: string) => `${baseUrl}${dest}` \r\n\r\nexport const fetchServer = async ({ dest, payload, options }: { dest: string, payload?: any, options?: any }) => {\r\n\tlet response = payload || options\r\n\t\t? await fetch(actionUrl(dest), postOption(payload, options)) \r\n\t\t: await fetch(actionUrl(dest), getOption())\r\n\t\t\r\n\tif(!response.ok) throw response\r\n\ttry {\r\n\t\tconst body = await response.json()\r\n\t\tbody.token && cookie.set('token', body.token)\r\n\t\treturn body.content ?? body\r\n\t} catch (error) {\r\n\t\treturn response\r\n\t}\r\n}\r\n\r\nconst useFetch = (\r\n    dest: string, \r\n    payload?: any,\r\n    immediate: boolean = true\r\n) => {\r\n    return useAsync(async (altPayload: any) => await fetchServer({ dest, payload: altPayload ?? payload }), immediate)\r\n}\r\n\r\nexport default useFetch","import { ACTION } from \"../Hooks/useServer\"\r\n\r\ndeclare global {\r\n\tinterface Doc {\r\n\t\tid: string\r\n\t\ttitle: string\r\n\t\tsubtitle?: string\r\n\t\ttext?: string\r\n\t\timg?: any\r\n\t\tmusic?: any\r\n    }\r\n    \r\n    interface  Collection {\r\n        id: string\r\n        title: string\r\n        docs: Doc[]\r\n\t}\r\n\t\r\n\tinterface Data {\r\n\t\tid: string\r\n\t\temail: string\r\n\t\tusername: string\r\n\t\tcollections: Collection[]\r\n\t\tdocs: Doc[]\r\n\t}\r\n}\r\n\r\nconst data: Data | any = {\r\n\tid: '',\r\n\temail: '',\r\n\tusername: '',\r\n    collections: [],\r\n    docs: []\r\n}\r\n\r\nexport const clearData = () => {\r\n\tdata.id = ''\r\n\tdata.email = ''\r\n\tdata.username = ''\r\n    data.collections = []\r\n    data.docs = []\r\n}\r\nexport const createData = (req: any, payload: any) =>\r\n\tpayload.length ?\r\n\t\tdata[requestToDataKey(req)].push(...payload) : \r\n\t\tdata[requestToDataKey(req)].push(payload)\r\n\r\n\r\nexport const updateData = (req: any, id: string, payload: any) => {\r\n    const \r\n        key = requestToDataKey(req),\r\n        target = data[key].find((value: Collection | Doc) => value.id === id)\r\n    \r\n    Object.assign(target, payload)\r\n    // Object assign doesn't overwrite nestedly. As a result, manuel assignment is sometimes needed\r\n    key === 'collections' && payload.docIds && (\r\n\t\ttarget.docs = payload.docIds.map((id: string) => data.docs.find((doc: Doc)=>doc.id===id))\r\n\t)\r\n}\r\n\r\nexport const deleteData = (req: any, { id, ids }: { id?: string, ids?: string[] }) => {\r\n\tconst\r\n\t\tkey = requestToDataKey(req),\r\n\t\ttarget = data[key]\r\n\r\n\tdata[key] = target.filter(\r\n\t\t(value: Collection | Doc) => id ? value.id !== id : ids ? !ids.includes(value.id) : true\r\n\t)\r\n\r\n\t// Delete doc from any collection\r\n\tkey === 'docs' && data.collections.forEach(\r\n\t\t(collection: Collection) =>\r\n\t\t\tid ?\r\n\t\t\t\tcollection.docs?.find((doc: Doc) => doc.id === id) && (\r\n\t\t\t\t\tcollection.docs = collection.docs.filter((doc: Doc) => doc.id !== id)\r\n\t\t\t\t)\r\n\t\t\t: \r\n\t\t\t\tids?.forEach(id=>collection.docs?.find((doc: Doc) => doc.id === id) && (\r\n\t\t\t\t\tcollection.docs = collection.docs.filter((doc: Doc) => doc.id !== id)\r\n\t\t\t\t))\r\n\t)\r\n}\r\n\r\nexport const deleteDocFile = (docId: string, key: string) => updateData(ACTION.DOC, docId, { [key]: undefined })\r\n    \r\n\r\nconst requestToDataKey = (req: any) => req === ACTION.DOC ? 'docs' : req === ACTION.COLLECTION ? 'collections' : ''\r\n\r\n\r\nexport default data","import { useEffect, useRef } from \"react\"\r\nimport data from \"../Providers/serverData\"\r\nimport useServer, { ACTION } from \"./useServer\"\r\n\r\n\r\nconst useInitialFetch = () => {\r\n    const initial = useRef(true)\r\n    const [ state, execute ] = useServer(ACTION.get_all, undefined, false)\r\n    \r\n    useEffect(() => {\r\n        state.value && Object.assign(data, state.value)\r\n    }, [state.value])\r\n\r\n    if(initial.current) {\r\n        initial.current = false\r\n        execute()\r\n    } \r\n\r\n    return [ \r\n\t\tstate,\r\n\t\texecute\r\n\t]\r\n}\r\n\r\nexport default useInitialFetch","import React, { createContext, Dispatch, SetStateAction } from \"react\"\r\nimport { Person, Description, Folder } from \"@material-ui/icons\"\r\nimport { useStorage } from 'bjork_react-hookup'\r\n\r\nexport enum navigation {\r\n\t'user',\r\n\t'selected',\r\n\t'folder'\r\n}\r\n\r\ndeclare global {\r\n\tinterface Page {\r\n\t\tlabel: string,\r\n\t\tvalue: navigation,\r\n\t\ticon: React.ReactNode\r\n\t}\r\n\r\n\tinterface ContextPageData {\r\n\t\tpage: navigation,\r\n\t\tsetPage: Dispatch<SetStateAction<navigation>>,\r\n\t\tpages: Page[]\r\n\t}\r\n}\r\n\r\nconst pages: Page[] = [\r\n\t{ label: 'Playlists', value: navigation.folder, icon: <Folder /> },\r\n\t{ label: 'Song', value: navigation.selected, icon: <Description /> },\r\n\t{ label: 'User', value: navigation.user, icon: <Person /> },\r\n]\r\n\r\nconst initialState = navigation.folder\r\n\r\nexport const contextPage = createContext<ContextPageData>({\r\n\tpage: initialState,\r\n\tsetPage: () => {},\r\n\tpages: []\r\n})\r\n\r\nconst PageProvider = ({ children }: { children: React.ReactChild }) => {\r\n\tconst [ page, setPage ] = useStorage('local', 'page', initialState)\r\n\t\r\n\treturn (\r\n\t\t<contextPage.Provider value={{\r\n\t\t\tpage: +page,\r\n\t\t\tsetPage,\r\n\t\t\tpages\r\n\t\t}}>\r\n\t\t\t{children}\r\n\t\t</contextPage.Provider>\r\n\t)\r\n}\r\n\r\nexport default PageProvider","import React from 'react'\r\nimport { createMuiTheme, CssBaseline, ThemeProvider as MuiThemeProvider } from '@material-ui/core'\r\n\r\ndeclare module '@material-ui/core/styles/createMuiTheme' {\r\n\tinterface ThemeOptions {\r\n\t  [key: string]: any \r\n\t}\r\n}\r\n\r\nconst theme = createMuiTheme({\r\n\toverrides: {\r\n\t\tMuiCssBaseline: {\r\n\t\t\t'@global': {\r\n\t\t\t\tbody: {\r\n\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t},\r\n\t\t\t\thtml: {\r\n\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t},\r\n\t\t\t\t'*': { scrollbarWidth: 'thin', },\r\n\t\t\t\t'::-webkit-scrollbar': {  width: '6px', height: '6px', },\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})\r\n\r\nconst ThemeProvider: React.FC = ({ children }) => {\r\n\t\r\n\treturn (\r\n\t\t<MuiThemeProvider theme={theme}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t{children}\r\n\t\t</MuiThemeProvider>\r\n\t)\r\n}\r\n\r\nexport default ThemeProvider","import React from 'react'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport { default as useMediaQueryMui } from '@material-ui/core/useMediaQuery'\r\n\r\nexport enum direction {\r\n    'up',\r\n    'down'\r\n}\r\n\r\nconst useMediaQuery = (\r\n    {size='sm', d=direction.down}\r\n    : { size?: number | \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\", d?: direction.up | direction.down }\r\n): boolean => {\r\n    const theme = useTheme()\r\n\tconst matches = useMediaQueryMui( \r\n        d === direction.up \r\n            ? theme.breakpoints.up(size)\r\n            : theme.breakpoints.down(size)\r\n    )\r\n    \r\n    return matches\r\n}\r\n\r\nexport default useMediaQuery\r\n","/* eslint-disable @typescript-eslint/no-unused-expressions */\r\nimport React, { createContext, ReactNode, useContext, useEffect, useRef, useState } from 'react'\r\nimport { message, Modal } from 'antd'\r\nimport { contextData } from './DataProvider'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport ModalEditor from '../App/components/ModalEditor'\r\nimport { ACTION, fetchServer } from '../Hooks/useServer'\r\nimport useAsync from '../Hooks/useAsync'\r\nimport { createData, deleteData, deleteDocFile, updateData } from './serverData'\r\nimport { contextAuth } from './AuthProvider'\r\n\r\nexport enum EStatus {\r\n\t'error',\r\n\t'success',\r\n\t'pending',\r\n\t'done' //?\r\n}\r\n\r\nexport enum EModal {\r\n\t'add',\r\n\t'edit',\r\n    'remove',\r\n    'none'\r\n}\r\n\r\nexport enum EType {\r\n\t'doc',\r\n\t'collection',\r\n\t'none'\r\n}\r\n\r\nexport enum EQuantity {\r\n\t'single',\r\n\t'multiple',\r\n\t'none'\r\n}\r\n\r\nexport type TMode = { modal: EModal, type: EType, quantity: EQuantity }\r\nexport type TModeAlt = { modal?: EModal, type?: EType, quantity?: EQuantity }\r\n\r\nconst defaultMode = { modal: EModal.none, type: EType.none, quantity: EQuantity.none }\r\n\r\ninterface ContextEdit {\r\n    file?: Doc\r\n\tfiles: Doc[]\r\n    collection?: Collection\r\n\tcollections: Collection[]\r\n\tmode: [ TMode, (arg0: TModeAlt) => void]\r\n\tsubmit: (payload: any) => void\r\n\tsubmitState: any\r\n\tresetModal: () => void\r\n\trerender: () => void\r\n}\r\n\r\nexport const contextEdit = createContext<ContextEdit | undefined>(undefined)\r\n\r\nconst EditProvider = (\r\n    { children }: { children: ReactNode }\r\n) => {\r\n    const {\r\n\t\tfiles,\r\n\t\tcollections,\r\n\t\thooks: {\r\n\t\t\tcheck: { checked, clearChecked },\r\n\t\t\tfile: { selectedFile, setSelectedFile },\r\n\t\t\tcollection: { selectedCollection }\r\n\t\t},\r\n\t\trerender\r\n\t}: any = useContext(contextData)\r\n\tconst { checkAuthorization }: any = useContext(contextAuth)\r\n\t\r\n\tconst [ mode, setMode ] = useState<TMode>(defaultMode)\r\n\tconst handleSetMode = ({modal, type, quantity}: TModeAlt) => \r\n\t\tsetMode((mode) => ({ modal: modal ?? mode.modal, type: type ?? mode.type, quantity: quantity ?? mode.quantity }))\r\n\tconst resetModal = () => setMode({ ...defaultMode })\r\n\t\r\n\tconst file: Doc | undefined = \r\n\t\tmode.type === EType.doc && mode.quantity === EQuantity.single && mode.modal !== EModal.add\r\n\t\t\t? files.find((file: Doc) => file.id === selectedFile) : undefined\r\n\tconst collection: Collection | undefined = \r\n\t\tmode.type === EType.collection && mode.quantity === EQuantity.single && mode.modal !== EModal.add\r\n\t\t\t? collections.find((collection: Collection) => collection.id === selectedCollection) : undefined\r\n\tconst names: string[] | undefined = \r\n\t\tfile ? [file.title] \r\n\t\t: collection ? [collection.title] \r\n\t\t: mode.quantity === EQuantity.multiple ? ((array = []) => ( \r\n\t\t\tarray = files.filter((doc: Doc) => checked.includes(doc.id)).map((doc: Doc) => doc.title),\r\n\t\t\tarray.length ? array : undefined \r\n\t\t))()\r\n\t\t: undefined\r\n\r\n\r\n\tconst request = mode.type === EType.doc ? ACTION.DOC\r\n\t\t: mode.type === EType.collection ? ACTION.COLLECTION \r\n\t\t: undefined\r\n\tconst dest = \r\n\t\trequest ?\r\n\t\t\tmode.modal === EModal.add ? request.create\r\n\t\t\t: mode.modal === EModal.edit ? request.update\r\n\t\t\t: mode.modal === EModal.remove ? request.delete\r\n\t\t\t: undefined\r\n\t\t: undefined\r\n\tconst id = mode.modal !== EModal.add ?\r\n\t\t\tfile?.id ?? collection?.id ?? undefined\r\n\t\t: undefined\r\n\tconst ids = mode.type === EType.doc && mode.quantity === EQuantity.multiple ? checked : undefined\r\n\tconst submittedPayload = useRef<any>(undefined)\r\n\tconst fetchRequest = dest ? \r\n\t\tasync (payload: any) => await fetchServer({ dest, payload })\r\n\t\t: undefined\r\n\r\n\tconst [ \r\n\t\tsubmitState, submit, { reset: resetSubmitState } \r\n\t] = useAsync(fetchRequest ?? (async () => { throw Error('Undefined fetchRequest') }), false)\r\n\tconst saveToData = () => {\r\n\t\tlet payload = { ...submittedPayload.current }\r\n\t\tif(!payload) return\r\n\t\tmode.modal === EModal.add && createData(request, submitState.value)\r\n\t\tmode.modal === EModal.edit && (\r\n\t\t\tconsole.log(payload),\r\n\t\t\tpayload.imgStatus && payload.img && (payload.img.status = payload.imgStatus),\r\n\t\t\tpayload.musicStatus && payload.music && (payload.music.status = payload.musicStatus),\r\n\t\t\tupdateData(request, payload.id, payload)\r\n\t\t)\r\n\t\tmode.modal === EModal.remove && deleteData(request, {id, ids})\r\n\t}\r\n\tconst handleSubmit = async (payload: any = {}) => {\r\n\t\tif(mode.quantity === EQuantity.multiple && mode.modal === EModal.add) {\r\n\t\t\tcreateMultiple(payload)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif(!Object.keys(payload).length && mode.modal !== EModal.remove) return\r\n\t\tif(mode.modal === EModal.edit) {\r\n\t\t\tconst object: any = file ?? collection\r\n\t\t\tObject.keys(payload).forEach((key) => (object)[key] === payload[key] && (delete payload[key]))\r\n\t\t}\r\n\t\tif(!Object.keys(payload).length && mode.modal !== EModal.remove) return\r\n\r\n\t\tid && (payload.id = id)\r\n\t\tids && (payload.ids = ids)\r\n\t\t\r\n\t\tif(mode.type === EType.doc) {\r\n\t\t\tawait handleFile(payload, 'img', checkAuthorization)\r\n\t\t\tawait handleFile(payload, 'music', checkAuthorization)\r\n\t\t}\r\n\t\t\r\n\t\tif(!Object.keys(payload).length) return\r\n\t\tsubmittedPayload.current = payload\r\n\t\tsubmit(payload)\r\n\t}\r\n\tconst createMultiple = async (payload: any[]) => {\r\n\t\tpayload = await Promise.all(payload.map(async ({ img, music, ...rest }) => {\r\n\t\t\ttry {\r\n\t\t\t\timg && (rest.img = await uploadFile(img, checkAuthorization))\r\n\t\t\t\tmusic && (rest.music = await uploadFile(music, checkAuthorization))\r\n\t\t\t\treturn rest\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn rest\r\n\t\t\t}\r\n\t\t}))\r\n\t\t\r\n\t\tsubmittedPayload.current = payload\r\n\t\tsubmit(payload)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tmode.modal === EModal.remove && names &&\r\n\t\t\tshowDelete({ onOk: () => handleSubmit(), onCancel: resetModal, names })\r\n\t}, [mode])\r\n\r\n\tuseEffect(() => {\r\n\t\tsubmitState.pending && message.loading({ content: 'Pending...', key: 'submit' })\r\n\t\tsubmitState.value && (\r\n\t\t\tmessage.success({ content: 'Successful!', key: 'submit' }),\r\n\t\t\tsaveToData(),\r\n\t\t\trerender(),\r\n\t\t\t(submittedPayload.current = undefined),\r\n\t\t\tmode.modal === EModal.add && mode.type === EType.doc && setSelectedFile(submitState.value[0].id),\r\n\t\t\tcheckAuthorization(submitState),\r\n\t\t\tresetSubmitState(),\r\n\t\t\tmode.modal !== EModal.edit && resetModal(),\r\n\t\t\tmode.quantity === EQuantity.multiple && clearChecked()\r\n\t\t)\r\n\t\tsubmitState.error && (\r\n\t\t\t//(async () => addError(await registerState.error.json()))(),\r\n\t\t\tmessage.error({ content: 'Error!', key: 'submit' }),\r\n\t\t\tmode.modal === EModal.remove && resetModal(),\r\n\t\t\tcheckAuthorization(submitState),\r\n\t\t\tresetSubmitState()\r\n\t\t)\r\n\t}, [ submitState ])\r\n\r\n    return (\r\n        <contextEdit.Provider value={{\r\n\t\t\tfile,\r\n\t\t\tfiles,\r\n\t\t\tcollection,\r\n\t\t\tcollections,\r\n\t\t\tmode: [ mode, handleSetMode ],\r\n\t\t\tsubmit: handleSubmit,\r\n\t\t\tsubmitState,\r\n\t\t\tresetModal,\r\n\t\t\trerender\r\n        }}>\r\n            { children }\r\n            <ModalEditor />\r\n        </contextEdit.Provider>\r\n    )\r\n}\r\n\r\nconst uploadFile = async (fmData: any, checkAuthorization: (response: any) => any) => \r\n\tcheckAuthorization(await fetchServer({ dest: ACTION.IMG.create, payload: fmData, options: { JSON: false } }))\r\nconst removeFile = async (payload: { id: string, docId: string }, checkAuthorization: (response: any) => any) => \r\n\tcheckAuthorization(await fetchServer({ dest: ACTION.IMG.delete, payload }))\r\n\r\nconst handleFile = async (payload: any, key: string, checkAuthorization: (response: any) => any) => {\r\n\ttry {\r\n\t\tpayload[key] && (\r\n\t\t\tpayload[key] = await uploadFile(payload[key], checkAuthorization),\r\n\t\t\tpayload[key+'Status'] = 'success'\r\n\t\t)\r\n\t\tpayload[key+'Uid'] && (\r\n\t\t\tawait removeFile({ id: payload[key+'Uid'], docId: payload.id }, checkAuthorization),\r\n\t\t\tdeleteDocFile(payload.id, key),\r\n\t\t\tpayload[key+'Uid'] && (delete payload[key+'Uid']),\r\n\t\t\tpayload[key+'Status'] = 'success'\r\n\t\t)\r\n\t} catch (error) {\r\n\t\tpayload[key] && (delete payload[key])\r\n\t\tpayload[key+'Uid'] && (delete payload[key+'Uid'])\r\n\t\tpayload[key+'Status'] = 'error'\r\n\t}\r\n}\r\n\r\nfunction showDelete({ onCancel, onOk, names }: any) {\r\n    Modal.confirm({\r\n\t\ttitle: \r\n\t\t\tnames.length > 1\r\n\t\t\t\t? `Are you sure you want to delete these?` \r\n\t\t\t\t: 'Are you sure you want to delete this?'\r\n        ,\r\n\t\tcontent: \r\n\t\t\tnames.length > 1\r\n\t\t\t\t? names.map((title: string, index: number) => title+(index < names.length-1 ? ', ' : '')) \r\n\t\t\t\t: names[0]\r\n\t\t,\r\n        icon: <ExclamationCircleOutlined />,\r\n        okText: 'Yes',\r\n        okType: 'danger',\r\n        cancelText: 'No',\r\n        onOk: onOk,\r\n        onCancel: onCancel\r\n    })\r\n}\r\n\r\nexport default EditProvider\r\n","/* eslint-disable @typescript-eslint/no-unused-expressions */\r\nimport React, { createContext, useContext, useState, useEffect } from \"react\"\r\nimport serverData from './serverData'\r\nimport useArray from 'bjork_react-hookup/core/useArray'\r\nimport { contextPage, navigation } from \"./PageProvider\"\r\nimport useMediaQuery from \"../Hooks/useMediaQuery\"\r\nimport { ACTION, fetchServer } from \"../Hooks/useServer\"\r\nimport useAsync from \"../Hooks/useAsync\"\r\nimport { useStorage } from 'bjork_react-hookup'\r\n\r\ndeclare global {\r\n\tinterface ContextData {\r\n\t\tcollections: Collection[]\r\n\t\tfiles: Doc[]\r\n\t\tuser: { username: string }\r\n\t\thooks: {\r\n\t\t\tcheck: { checked: string[], addCheck: (value: string) => void, removeCheckByValue: (value: string) => void, clearChecked: () => void },\r\n\t\t\tfile: { selectedFile: string | undefined, setSelectedFile: (value: string) => void }\r\n\t\t\tcollection: { selectedCollection: string | undefined, setSelectedCollection: (value: string) => void }\r\n\t\t}\r\n\t\treload: () => void\r\n\t\trerender: () => void\r\n\t}\r\n}\r\n\r\nexport const contextData = createContext<ContextData | undefined>(undefined)\r\n\r\nconst FilesProvider = ({ children }: any) => {\r\n\tconst { setPage } = useContext(contextPage)\r\n\r\n\tconst [ data, setData ] = useState<Data>(serverData)\r\n\tconst [ response, serverRequest, { reset: resetResponse } ] = useAsync(async () => await fetchServer({ dest: ACTION.get_all }), false)\r\n\tconst rerender = () => setData({ ...serverData })\r\n\r\n\tconst [ checked, , { \r\n\t\tadd: addCheck,\r\n\t\tremoveByValue: removeCheckByValue,\r\n\t\tclear: clearChecked\r\n\t}] = useArray([])\r\n\t\r\n\tconst matches = useMediaQuery({})\r\n\tconst [ selectedFile, setSelectedFile ] = useStorage('local', 'selectedFile')\r\n\tconst handleSetSelectedFile = (value: any) => {\r\n\t\tsetSelectedFile(value)\r\n\t\tmatches && setPage(navigation.selected)\r\n\t}\r\n\t\r\n\tconst [ selectedCollection, setSelectedCollection ] = useState<string | undefined>()\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif(response.pending) return\r\n\t\tresponse.value && (\r\n\t\t\t(serverData.docs = response.value.docs),\r\n\t\t\t(serverData.collections = response.value.collections),\r\n\t\t\tresetResponse(),\r\n\t\t\trerender()\r\n\t\t)\r\n\t\tresponse.error && (\r\n\t\t\tresetResponse()\r\n\t\t)\r\n\t}, [resetResponse, response])\r\n\r\n\treturn (\r\n\t\t<contextData.Provider value={{ \r\n\t\t\tfiles: data.docs,\r\n\t\t\tcollections: data.collections,\r\n\t\t\tuser: { username: data.username },\r\n\t\t\thooks: {\r\n\t\t\t\tcheck: { checked, addCheck, removeCheckByValue, clearChecked },\r\n\t\t\t\tfile: { \r\n\t\t\t\t\tselectedFile, \r\n\t\t\t\t\tsetSelectedFile: handleSetSelectedFile\r\n\t\t\t\t},\r\n\t\t\t\tcollection: {\r\n\t\t\t\t\tselectedCollection, \r\n\t\t\t\t\tsetSelectedCollection\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treload: serverRequest,\r\n\t\t\trerender\r\n\t\t}}>\r\n\t\t\t{children}\r\n\t\t</contextData.Provider>\r\n\t)\r\n}\r\n\r\nexport default FilesProvider","import React from 'react'\r\nimport { Button, Col, Row, Upload } from 'antd'\r\nimport { UploadOutlined } from '@ant-design/icons'\r\nimport { baseUrl } from '../../../Hooks/useServer'\r\n\r\ninterface Props {\r\n    props: {\r\n        img?: any\r\n        handleImgChange: (list?: any, index?: number) => any\r\n        music?: any\r\n        handleMusicChange: (list?: any, index?: number) => any\r\n\t\tindex?: number\r\n\t\tlabel?: string\r\n    }\r\n}\r\n\r\nconst Uploader: React.FC<Props> = ({ \r\n    props: {\r\n        img,\r\n        handleImgChange,\r\n\t\tindex,\r\n\t\tlabel,\r\n\t\tmusic,\r\n\t\thandleMusicChange\r\n    }\r\n}) => (\r\n\t<Row gutter={12}>\r\n\t\t<Col span={12} style={{ display: 'grid', gap: '5px' }}>\r\n\t\t\t<label>Image:</label>\r\n\t\t\t<Upload\r\n\t\t\t\tonRemove={() => handleImgChange(undefined, index)}\r\n\t\t\t\tbeforeUpload={(img) => (handleImgChange(img, index), false) }\r\n\t\t\t\tfileList={!img ? img : img.size ? [img] : [correctUrl(img)]}\r\n\t\t\t\taccept=\"image/png, image/jpeg\"\r\n\t\t\t>\r\n\t\t\t\t<Button icon={<UploadOutlined />}>{ label ?? 'Select Image' }</Button>\r\n\t\t\t</Upload>\r\n\t\t</Col>\r\n\t\t<Col span={12} style={{ display: 'grid', gap: '5px' }}>\r\n\t\t\t<label>Music:</label>\r\n\t\t\t<Upload\r\n\t\t\t\tonRemove={() => handleMusicChange(undefined, index)}\r\n\t\t\t\tbeforeUpload={(music) => (handleMusicChange(music, index), false) }\r\n\t\t\t\tfileList={!music ? music : music.size ? [music] : [correctUrl(music)]}\r\n\t\t\t\taccept=\"audio/mpeg\"\r\n\t\t\t>\r\n\t\t\t\t<Button icon={<UploadOutlined />}>{ label ?? 'Select Music' }</Button>\r\n\t\t\t</Upload>\r\n\t\t</Col>\r\n\t</Row>\r\n)\r\n\r\nconst correctUrl = ({ url, ...rest }: any) => ({ url: baseUrl + url, ...rest })\r\n\r\nexport default Uploader","import React from \"react\"\r\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\"\r\nimport { Button, Form, Input, Select, Space } from \"antd\"\r\nimport Uploader from \"./Uploader\"\r\n\r\n\r\nexport const CreateDocForm = ({ \r\n\tprops: { \r\n\t\trefForm, \r\n\t\timgList, \r\n\t\thandleImgChange,\r\n\t\tmusicList, \r\n\t\thandleMusicChange \r\n}}: any) => (\r\n\t<Form\r\n\t\tlayout='vertical'\r\n\t\tref={refForm}\r\n\t\tname=\"dynamic-docs-form\"\r\n\t>\r\n\t\t<Form.List name=\"fields\">\r\n\t\t\t{(fields, { add, remove }) => \r\n\t\t\t\t<Space direction=\"vertical\" style={{ width: '100%', padding: '15px 30px 0 30px', gap: '10px' }}>\r\n\t\t\t\t\t{ fields.map((field, index) =>\r\n\t\t\t\t\t<SpecialCard  key={index} {...{field, remove}}>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t{...field} \r\n\t\t\t\t\t\t\tlabel=\"Title\" \r\n\t\t\t\t\t\t\tname={[field.name, 'title']}\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: 'A title is required' }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input allowClear />\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item \r\n\t\t\t\t\t\t\t{...field} \r\n\t\t\t\t\t\t\tlabel=\"Subtitle:\" \r\n\t\t\t\t\t\t\tname={[field.name, 'subtitle']}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input allowClear />\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item \r\n\t\t\t\t\t\t\t{...field} \r\n\t\t\t\t\t\t\tlabel=\"Text:\" \r\n\t\t\t\t\t\t\tname={[field.name, 'text']}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input.TextArea showCount allowClear />\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Uploader props={{ img: imgList[index], handleImgChange, index, music: musicList[index], handleMusicChange }} />\r\n\t\t\t\t\t</SpecialCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Space>\r\n\t\t\t}\r\n\t\t</Form.List>\r\n\t</Form>\r\n)\r\n\r\nexport const CreateCollectionForm = ({ props: { refForm, files, setSelectedDocs } }: any) => (\r\n\t<Form \r\n\t\tlabelAlign='right' \r\n\t\tlayout='vertical'\r\n\t\tref={refForm}\r\n\t\tname=\"dynamic-docs-form\"\r\n\t>\r\n\t\t<Form.List name=\"fields\">\r\n\t\t\t{(fields, { add, remove }) => \r\n\t\t\t\t<Space style={{ width: '100%', padding: '30px 15px 0 15px' }} direction=\"vertical\">\r\n\t\t\t\t\t{ fields.map((field, index) =>\r\n\t\t\t\t\t\t<SpecialCard key={index} {...{field, remove}}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t{...field} \r\n\t\t\t\t\t\t\t\tlabel=\"Title:\" \r\n\t\t\t\t\t\t\t\tname={[field.name, 'title']}\r\n\t\t\t\t\t\t\t\tfieldKey={[field.fieldKey, 'title']}\r\n\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t{ required: true, message: 'A title is required' }\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\thasFeedback\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input allowClear />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Select mode=\"tags\" style={{ width: '100%' }} placeholder=\"Tags Mode\" onChange={values => setSelectedDocs(values, index)}>\r\n\t\t\t\t\t\t\t\t{files?.map((doc: Doc) => <Select.Option key={doc.id} value={doc.id}>{ doc.title }</Select.Option>)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</SpecialCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n\t\t\t\t\t\t\tAdd playlist\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Space>\r\n\t\t\t}\r\n\t\t</Form.List>\r\n\t</Form>\r\n)\r\n\r\nconst SpecialCard = ({ \r\n\tchildren,\r\n\tfield, \r\n\tremove\r\n}: any) => (\r\n\t<Space key={field.key} direction=\"vertical\" style={{ width: '100%', border: '1px solid #f0f0f0', borderRadius: '2px', padding: '15px 24px 15px 24px' }}>\r\n\t\t<div style={{ display: 'grid', placeContent: 'end' }}><MinusCircleOutlined onClick={() => remove(field.name)} /></div>\r\n\t\t{ children }\r\n\t</Space>\r\n)","import React from 'react'\r\nimport { Form, Input, Modal, Select } from 'antd'\r\nimport { EModal, EType, TMode } from '../../../Providers/EditProvider'\r\nimport Uploader from './Uploader'\r\nimport { CreateCollectionForm, CreateDocForm } from './CreateForms'\r\n\r\ninterface Props {\r\n    props: {\r\n        collection?: Collection \r\n        file?: Doc\r\n        files?: Doc[]\r\n        visible: boolean\r\n        loading: boolean\r\n        handleClose: () => void\r\n        imgList: any[]\r\n\t\tmusicList: any[]\r\n        handleImgChange: (img?: any, index?: number) => any\r\n        handleMusicChange: (music?: any, index?: number) => any\r\n        handleSave: () => void\r\n\t\tsetSelectedDocs: (values: string[]) => void\r\n\t\tmode: TMode\r\n\t\trefForm: any\r\n    }\r\n}\r\n\r\nconst ModalEditor: React.FC<Props> = ({\r\n    props: {\r\n        collection,\r\n        file, \r\n        files,\r\n        visible,\r\n\t\tloading,\r\n        handleClose, \r\n        imgList,\r\n\t\tmusicList,\r\n        handleSave,\r\n        handleImgChange,\r\n        handleMusicChange,\r\n\t\tsetSelectedDocs,\r\n\t\tmode,\r\n\t\trefForm\r\n    }\r\n}) => (\r\n    <Modal\r\n        centered\r\n        visible={visible}\r\n\t\tconfirmLoading={loading}\r\n        onCancel={handleClose}\r\n        onOk={handleSave}\r\n        width={800}\r\n        okText={ mode.modal === EModal.edit ? 'Save' : 'Create' }\r\n\t\tcancelText={ mode.modal === EModal.edit ? 'Close' : 'Cancel' }\r\n\t\tdestroyOnClose={true}\r\n    >\r\n\t\t{ \r\n\t\t\tmode.type === EType.doc ? \r\n\t\t\t\tmode.modal === EModal.edit ? \r\n\t\t\t\t\t<DocForm props={{ file, refForm, imgList, handleImgChange, musicList, handleMusicChange }} /> \r\n\t\t\t\t\t: <CreateDocForm props={{ refForm, imgList, handleImgChange, musicList, handleMusicChange }} />\r\n\t\t\t: mode.type === EType.collection ?\r\n\t\t\t\tmode.modal === EModal.edit ? \r\n\t\t\t\t\t<CollectionForm props={{ collection, refForm, files, setSelectedDocs }} />\r\n\t\t\t\t\t: <CreateCollectionForm props={{ refForm, files, setSelectedDocs }} />\r\n\t\t\t: <><p>No Structure available</p></>\r\n        }\r\n    </Modal>\r\n)\r\n\r\nconst DocForm = ({ props: { file, refForm, imgList, handleImgChange, musicList, handleMusicChange } }: any) => (\r\n\t<Form \r\n\t\tlabelAlign='right' \r\n\t\tlayout='vertical'\r\n\t\tinitialValues={{\r\n\t\t\ttitle: file?.title,\r\n\t\t\tsubtitle: file?.subtitle,\r\n\t\t\ttext: file?.text\r\n\t\t}}\r\n\t\tref={refForm}\r\n\t>\r\n\t\t<Form.Item \r\n\t\t\tlabel=\"Title:\" \r\n\t\t\tname=\"title\" \r\n\t\t\trules={[\r\n\t\t\t\t{ required: true, message: 'A title is required' }\r\n\t\t\t]}\r\n\t\t\thasFeedback\r\n\r\n\t\t>\r\n\t\t\t<Input allowClear />\r\n\t\t</Form.Item>\r\n\r\n\t\t<Form.Item \r\n\t\t\tlabel=\"Subtitle:\" \r\n\t\t\tname=\"subtitle\"\r\n\t\t>\r\n\t\t\t<Input allowClear />\r\n\t\t</Form.Item>\r\n\r\n\t\t<Form.Item \r\n\t\t\tlabel=\"Text:\" \r\n\t\t\tname=\"text\"\r\n\t\t>\r\n\t\t\t<Input.TextArea showCount allowClear />\r\n\t\t</Form.Item>\r\n\r\n\t\t<Uploader props={{ img: imgList[0], handleImgChange, music: musicList[0], handleMusicChange }} />\r\n\t</Form>\r\n)\r\n\r\nconst CollectionForm = ({ props: { collection, refForm, files, setSelectedDocs } }: any) => (\r\n\t<Form \r\n\t\tlabelAlign='right' \r\n\t\tlayout='vertical'\r\n\t\tinitialValues={{ \r\n\t\t\ttitle: collection?.title \r\n\t\t}}\r\n\t\tref={refForm}\r\n\t>\r\n\t\t<Form.Item label=\"Title:\" name=\"title\">\r\n\t\t\t<Input.TextArea showCount maxLength={100} allowClear />\r\n\t\t</Form.Item>\r\n\r\n\t\t<Select mode=\"tags\" style={{ width: '100%' }} placeholder=\"Tags Mode\" onChange={values => setSelectedDocs(values)} defaultValue={collection?.docs?.map((doc: Doc)=>doc.id)}>\r\n\t\t\t{files?.map((doc: Doc) => <Select.Option key={doc.id} value={doc.id}>{ doc.title }</Select.Option>)}\r\n\t\t</Select>\r\n\t</Form>\r\n)\r\n\r\nexport default ModalEditor\r\n","/* eslint-disable @typescript-eslint/no-unused-expressions */\r\nimport React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport { contextEdit, EModal, EType } from '../../../Providers/EditProvider'\r\nimport ModalEditor from './ModalEditor'\r\n\r\nconst formDataFile = (file: any, fmData = new FormData()) => (fmData.append('file', file), fmData)\r\n\r\nconst handleFile = (originalFile: any, array: any[], fieldValues: any, key: string) => {\r\n\toriginalFile && (\r\n\t\toriginalFile[key] && !array.length && (fieldValues[key+'Uid'] = originalFile[key].uid),\r\n\t\t(\r\n\t\t\t(!originalFile[key] && array.length)\r\n\t\t\t|| (originalFile[key] && array.length && originalFile[key].uid !== array[0].uid)\r\n\t\t) && array[0].status !== 'error' && (fieldValues[key] = formDataFile(array[0]))\r\n\t)\r\n\t!originalFile && array.length && array[0].status !== 'error' && (fieldValues[key] = formDataFile(array[0]))\r\n\treturn fieldValues\r\n}\r\n\r\nconst getChangedFieldsValue = (ref: any, previous: any) => {\r\n\tconst values = ref.getFieldsValue()\r\n\tprevious && Object.keys(values).forEach(\r\n\t\t(key) => values[key] === previous[key] && (delete values[key])\r\n\t)\r\n\treturn values\r\n}\r\n\t\r\n\r\nconst ModalEditorContainer = () => {\r\n    const {\r\n\t\tfile,\r\n\t\tfiles,\r\n\t\tcollection,\r\n        mode: [ mode ],\r\n\t\tsubmit,\r\n\t\tsubmitState,\r\n\t\tresetModal\r\n    }: any = useContext(contextEdit)\r\n\r\n\tconst refForm = useRef<any>()\r\n\r\n    const \r\n        visible = mode.modal !== EModal.remove && mode.modal !== EModal.none,\r\n\t\tloading = submitState.pending,\r\n        [ localImg, setLocalImg ] = useState<any>(file?.img ? [file.img] : []),\r\n        [ localMusic, setLocalMusic ] = useState<any>(file?.music ? [file.music] : []),\r\n        [ selectedDocs, setSelectedDocs ] = useState<[] | string[][]>([]),\r\n        handleSave = () => {\r\n\t\t\tmode.modal === EModal.add\r\n\t\t\t\t? createMultiple()\r\n\t\t\t\t: saveSingle()\r\n        },\r\n\t\tsaveSingle = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tawait refForm.current.validateFields()\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n            const fieldValues = getChangedFieldsValue(refForm.current, mode.type === EType.doc ? file : collection)\r\n\t\t\t\r\n            ;selectedDocs[0] && mode.type === EType.collection && (fieldValues.docIds = selectedDocs[0])\r\n\r\n            handleFile(file, localImg, fieldValues, 'img')\r\n\t\t\thandleFile(file, localMusic, fieldValues, 'music')\r\n\t\t\t\r\n            submit(fieldValues)\r\n\t\t},\r\n\t\tcreateMultiple = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tawait refForm.current.validateFields()\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tconst fields = refForm.current.getFieldsValue().fields\r\n\t\t\t\r\n\t\t\tmode.type === EType.doc && fields.forEach(\r\n\t\t\t\t(field: any, index: number) => {\r\n\t\t\t\t\tlocalImg[index] &&  localImg[index] !== 'error' && (field.img = formDataFile(localImg[index]))\r\n\t\t\t\t\tlocalMusic[index] && localImg[index] !== 'error' && (field.music = formDataFile(localMusic[index]))\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tmode.type === EType.collection && fields.forEach(\r\n\t\t\t\t(field: any, index: number) => selectedDocs[index] && (field.docIds = selectedDocs[index])\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\tsubmit(fields)\r\n\t\t},\r\n\t\thandleImgChange = (img?: any, index?: number) => {\r\n\t\t\tconst status = img?.type && ([\"image/jpeg\", \"image/png\"].includes(img.type) ? 'success' : 'error')\r\n\t\t\tstatus && (\r\n\t\t\t\timg.status = status,\r\n\t\t\t\tstatus === 'error' && (img.response = 'Invalid type')\r\n\t\t\t)\r\n\t\t\tmode.modal === EModal.add && mode.type === EType.doc \r\n\t\t\t\t? (index || index === 0) && setLocalImg((imgList: any) => (imgList[index] = img, [...imgList]))\r\n\t\t\t\t: img ? setLocalImg([img]) : setLocalImg([])\r\n\t\t},\r\n\t\thandleMusicChange = (music?: any, index?: number) => {\r\n\t\t\tconst status = music?.type && (music.type === \"audio/mpeg\" ? 'success' : 'error')\r\n\t\t\tstatus && (\r\n\t\t\t\tmusic.status = status,\r\n\t\t\t\tstatus === 'error' && (music.response = 'Invalid type')\r\n\t\t\t)\r\n\t\t\tmode.modal === EModal.add && mode.type === EType.doc \r\n\t\t\t\t? (index || index === 0) && setLocalMusic(\r\n\t\t\t\t\t(musicList: any) => (musicList[index] = music, [...musicList])\r\n\t\t\t\t) : music ? setLocalMusic([music]) : setLocalMusic([])\r\n\t\t},\r\n\t\thandleSelectedDocs = (docIds: string[], index?: number) =>\r\n\t\t\t(index || index === 0) ? \r\n\t\t\t\tsetSelectedDocs((docsList: string[][]) => (docsList[index] = docIds, [...docsList]))\r\n\t\t\t\t: setSelectedDocs([docIds])\r\n\t\r\n\tuseEffect(() => setLocalImg(file?.img ? [file.img] : []), [file?.img, mode])\r\n\tuseEffect(() => setLocalMusic(file?.music ? [file.music] : []), [file?.music, mode])\r\n\t\r\n    return (\r\n        <ModalEditor\r\n            props={{\r\n                collection,\r\n                file,\r\n\t\t\t\tfiles,\r\n                imgList: localImg,\r\n\t\t\t\tmusicList: localMusic,\r\n                visible,\r\n\t\t\t\tloading,\r\n                handleClose: resetModal,\r\n                handleSave,\r\n\t\t\t\thandleImgChange,\r\n\t\t\t\thandleMusicChange,\r\n\t\t\t\tsetSelectedDocs: handleSelectedDocs,\r\n\t\t\t\tmode,\r\n\t\t\t\trefForm\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ModalEditorContainer\r\n","import React from 'react'\r\nimport { Fade, Grid, IconButton, ListItemIcon, Menu, MenuItem, PopoverOrigin, Typography } from '@material-ui/core'\r\nimport { Delete, Edit, MoreVert, Add, CreateNewFolder, NoteAdd } from '@material-ui/icons'\r\nimport { EModal, EQuantity, EType } from '../../../Providers/EditProvider'\r\nimport NestedMenuItem from \"material-ui-nested-menu-item\"\r\n\r\ninterface Props {\r\n    props: {\r\n        handleClose: (value: any) => void\r\n        handleClick: (event: React.MouseEvent<HTMLButtonElement>) => void\r\n        anchorEl: null | HTMLElement\r\n\t\tsize?: 'small' | 'medium'\r\n\t\taltButton?: (onClick: (event: React.MouseEvent<HTMLButtonElement>) => void) => JSX.Element\r\n\t\ttransformOrigin?: PopoverOrigin\r\n\t\tappearance: EMenuAppearance\r\n    }\r\n}\r\n\r\nexport enum EMenuAppearance {\r\n\t'doc',\r\n\t'list',\r\n\t'collection',\r\n\t'add'\r\n}\r\n\r\nconst MenuDocument: React.FC<Props> = ({ \r\n\tprops: { \r\n\t\thandleClose, \r\n\t\thandleClick, \r\n\t\tanchorEl, \r\n\t\tsize, \r\n\t\taltButton, \r\n\t\ttransformOrigin,\r\n\t\tappearance\r\n\t}\r\n}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ altButton ? \r\n\t\t\t\taltButton(handleClick) \r\n\t\t\t:\r\n\t\t\t\t<IconButton onClick={handleClick} size={size}>\r\n\t\t\t\t\t<MoreVert />\r\n\t\t\t\t</IconButton>\r\n\t\t\t}\r\n\t\t\t<Menu\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\topen={!!anchorEl}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tTransitionComponent={Fade}\r\n\t\t\t\ttransformOrigin={transformOrigin}\r\n\t\t\t>\r\n\t\t\t\t{ appearance === EMenuAppearance.add && MenuItemsAdd(handleClose) }\r\n\t\t\t\t{ appearance === EMenuAppearance.doc && MenuItemsDoc(handleClose) }\r\n\t\t\t\t{ appearance === EMenuAppearance.list && MenuItemsList(handleClose, anchorEl) }\r\n\t\t\t\t{ appearance === EMenuAppearance.collection && MenuItemsCollection(handleClose) }\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst MenuItemsDoc = (handleClose: (value: any) => void) => [\r\n\t<MenuItem\r\n\t\tkey={EMenuAppearance.doc+EModal.edit}\r\n\t\tonClick={() => handleClose({ \r\n\t\t\tmodal: EModal.edit, \r\n\t\t\ttype: EType.doc,\r\n\t\t\tquantity: EQuantity.single\r\n\t\t})}\r\n\t>\r\n\t\t<ListItemIcon>\r\n\t\t\t<Edit fontSize=\"small\" />\r\n\t\t</ListItemIcon>\r\n\t\t<Typography variant=\"inherit\">Edit</Typography>\r\n\t</MenuItem>,\r\n\t<MenuItem\r\n\t\tkey={EMenuAppearance.doc+EModal.remove}\r\n\t\tonClick={() => handleClose({ \r\n\t\t\tmodal: EModal.remove,\r\n\t\t\ttype: EType.doc,\r\n\t\t\tquantity: EQuantity.single\r\n\t\t})}\r\n\t>\r\n\t\t<ListItemIcon>\r\n\t\t\t<Delete fontSize=\"small\" />\r\n\t\t</ListItemIcon>\r\n\t\t<Typography variant=\"inherit\">Delete</Typography>\r\n\t</MenuItem>\r\n]\r\n\r\nconst MenuItemsList = (handleClose: (value: any) => void, anchorEl: any) => [\r\n\t<MenuItem\r\n\t\tkey={EMenuAppearance.list+EModal.remove}\r\n\t\tonClick={() => handleClose({ \r\n\t\t\tmodal: EModal.remove,\r\n\t\t\ttype: EType.doc,\r\n\t\t\tquantity: EQuantity.multiple\r\n\t\t})}\r\n\t>\r\n\t\t<ListItemIcon>\r\n\t\t\t<Delete fontSize=\"small\" />\r\n\t\t</ListItemIcon>\r\n\t\t<Typography variant=\"inherit\">Delete</Typography>\r\n\t</MenuItem>,\r\n\t<NestedMenuItem\r\n\t\tkey={EMenuAppearance.list+EModal.add}\r\n\t\tlabel={\r\n\t\t\t<Grid container direction=\"row\">\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<Add fontSize=\"small\" />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<Typography variant=\"inherit\">Add</Typography>\r\n\t\t\t</Grid>\r\n\t\t}\r\n\t\tparentMenuOpen={!!anchorEl}\r\n\t>\r\n\t\t{MenuItemsAdd(handleClose) }\r\n\t</NestedMenuItem>\r\n]\r\n\r\nconst MenuItemsCollection = (handleClose: (value: any) => void) => [\r\n\t<MenuItem\r\n\t\tkey={EMenuAppearance.collection+EModal.edit}\r\n\t\tonClick={() => handleClose({ \r\n\t\t\tmodal: EModal.edit, \r\n\t\t\ttype: EType.collection,\r\n\t\t\tquantity: EQuantity.single\r\n\t\t})}\r\n\t>\r\n\t\t<ListItemIcon>\r\n\t\t\t<Edit fontSize=\"small\" />\r\n\t\t</ListItemIcon>\r\n\t\t<Typography variant=\"inherit\">Edit</Typography>\r\n\t</MenuItem>,\r\n\t<MenuItem\r\n\t\tkey={EMenuAppearance.collection+EModal.remove}\r\n\t\tonClick={() => handleClose({ \r\n\t\t\tmodal: EModal.remove,\r\n\t\t\ttype: EType.collection,\r\n\t\t\tquantity: EQuantity.single\r\n\t\t})}\r\n\t>\r\n\t\t<ListItemIcon>\r\n\t\t\t<Delete fontSize=\"small\" />\r\n\t\t</ListItemIcon>\r\n\t\t<Typography variant=\"inherit\">Delete</Typography>\r\n\t</MenuItem>\r\n]\r\n\r\nconst MenuItemsAdd = (handleClose: (value: any) => void) => [\t\r\n\t<MenuItem\r\n\t\tkey={EMenuAppearance.add+EType.doc}\r\n\t\tonClick={() => handleClose({ \r\n\t\t\tmodal: EModal.add, \r\n\t\t\ttype: EType.doc,\r\n\t\t\tquantity: EQuantity.multiple\r\n\t\t})}\r\n\t>\r\n\t\t<ListItemIcon>\r\n\t\t\t<NoteAdd fontSize=\"small\" />\r\n\t\t</ListItemIcon>\r\n\t\t<Typography variant=\"inherit\">Song</Typography>\r\n\t</MenuItem>,\r\n\t<MenuItem\r\n\t\tkey={EMenuAppearance.add+EType.collection}\r\n\t\tonClick={() => handleClose({ \r\n\t\t\tmodal: EModal.add, \r\n\t\t\ttype: EType.collection,\r\n\t\t\tquantity: EQuantity.single\r\n\t\t})}\r\n\t>\r\n\t\t<ListItemIcon>\r\n\t\t\t<CreateNewFolder fontSize=\"small\" />\r\n\t\t</ListItemIcon>\r\n\t\t<Typography variant=\"inherit\">Playlists</Typography>\r\n\t</MenuItem>\r\n]\r\n\r\nexport default MenuDocument\r\n","import React from 'react'\r\nimport { BottomNavigation, BottomNavigationAction } from '@material-ui/core'\r\nimport { navigation } from '../../Providers/PageProvider'\r\n\r\nexport interface Props {\r\n\tvalue: navigation,\r\n\tprops: {\r\n\t\tsetPage: (value: navigation) => void,\r\n\t\tpages: Page[]\r\n\t}\r\n}\r\n\r\nconst Navbar: React.FC<Props> = ({\r\n\tvalue,\r\n\tprops: { \r\n\t\tsetPage,\r\n\t\tpages \r\n\t}\r\n}) => (\r\n\t<BottomNavigation \r\n\t\tvalue={value} \r\n\t\tonChange={(e: object, value: navigation) => setPage(value)}\r\n\t\tstyle={{ position: 'absolute', bottom: 0, width: '100vw' }}\r\n\t>\r\n\t\t{ pages.map(page => <BottomNavigationAction key={page.value} { ...page } /> )}\r\n\t</BottomNavigation>\r\n)\r\n\r\nexport default Navbar\r\n\r\n","import React, { useContext } from 'react'\r\nimport { contextPage } from '../../Providers/PageProvider'\r\nimport Navbar from './Navbar'\r\n\r\nconst NavbarContainer: React.FC = () => {\r\n\tconst {\r\n\t\tpage,\r\n\t\tsetPage,\r\n\t\tpages\r\n\t}: any = useContext(contextPage)\r\n\r\n\treturn <Navbar props={{ pages, setPage }} value={page} />\r\n}\r\n\r\nexport default NavbarContainer","const scrollTo = (\r\n\t{ container, to, duration, onDone }\r\n\t: { container: any, to: number, duration: number, onDone?: () => void }\r\n): void => {\r\n\tconst start = container.scrollTop\r\n\tconst change = to - start\r\n\tconst startTime = performance.now()\r\n\tlet now, elapsed, t\r\n\r\n\tconst animateScroll = () => {\r\n\t\tnow = performance.now()\r\n\t\telapsed = (now - startTime)\r\n\t\tt = (elapsed/duration)\r\n\r\n\t\tcontainer.scrollTop = start + change * easeInOutQuad(t)\r\n\r\n\t\tt < 1 ? window.requestAnimationFrame(animateScroll)\r\n\t\t: onDone && onDone()\r\n\t}\r\n\r\n\tanimateScroll()\r\n}\r\n\r\nconst scrollToElm = (\r\n\t{ container, target, duration, options }\r\n\t: { container: Element | null, target: Element | null, duration: number, options?: { onDone?: () => void, offsetY?: number } }\r\n): void => scrollTo({ container, to: getRelativePos(target).top + (options?.offsetY ?? 0), duration, onDone: options?.onDone })\r\n\r\nconst getRelativePos =\r\n\t(target: any): { \r\n\t[key: string]: number \r\n} => {\r\n\tif(!target) return {}\r\n\tlet parentPos = target.parentNode.getBoundingClientRect()\r\n\tlet\ttargetPos = target.getBoundingClientRect()\r\n\t\r\n\treturn {\r\n\t\ttop: targetPos.top - parentPos.top + target.parentNode.scrollTop,\r\n\t\tright: targetPos.right - parentPos.right,\r\n\t\tbottom: targetPos.bottom - parentPos.bottom,\r\n\t\tleft: targetPos.left - parentPos.left\r\n\t}\r\n}\r\n\r\nconst easeInOutQuad = (t: any) => ( t < .5 ) ? ( 2 * t * t ) : ( -1 +( 4 - 2 * t ) * t )\r\n\r\nexport default scrollToElm","export { default as scrollContainerChildIntoView } from './scroll'\r\n\r\nexport const truncate = ( \r\n\tstr: string, \r\n\tn: number, \r\n\tuseWordBoundary: boolean \r\n): string => {\r\n\tif (str.length <= n) return str\r\n\r\n\tconst subString = str.substr(0, n-1)\r\n\r\n\treturn (\r\n\t\tuseWordBoundary \r\n\t\t\t? subString.substr(0, subString.lastIndexOf(\" \")) \r\n\t\t\t: subString\r\n\t) + \" ...\"\r\n}\r\n\r\nexport const group = (array: any[]): {[key:string]: any[]} => \r\n\tarray\r\n    .sort(function(a, b){\r\n\r\n\t\tvar test = a.title.charCodeAt(0) <= 90 && b.title.charCodeAt(0) <= 90;\r\n\t\r\n\t\tif(test) return a.title.charCodeAt(0)-b.title.charCodeAt(0);\r\n\t\telse if(a.title.charCodeAt(0) <= 90) return -1;\r\n\t\telse if(b.title.charCodeAt(0) <= 90) return 1;\r\n\t\telse return a.title.charCodeAt(0)-b.title.charCodeAt(0);\r\n\t\r\n\t})\r\n\t.reduce((r, e) => {\r\n\t\tconst key = e.title[0]\r\n\t\t!r[key] && (r[key] = [])\r\n\t\tr[key].push(e)\r\n\t\treturn r\r\n\t}, {})\r\n\t\r\nconst createUrl = (params: string): string => \r\n\twindow.location.origin\r\n\t\t+ window.location.pathname \r\n\t\t+ '?' \r\n\t\t+ params\r\n\r\nexport const setToUrl = (params: string): void => {\r\n\tconst url = createUrl(params)\r\n\twindow.history.pushState({ path: url }, '', url)\r\n}\r\n\r\nexport const cleanByKeys: any = (\r\n    obj: any,\r\n    keys: string[]\r\n) => {\r\n    let cleaned: any = {}\r\n    keys.forEach((key) => obj[key] && (cleaned[key] = obj[key]))\r\n    return cleaned\r\n}\r\n\r\nexport const makeKey = (length: number) => {\r\n\tconst \r\n\t\tresult = [],\r\n\t\tcharacters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',\r\n\t\tcharactersLength = characters.length\r\n\r\n\tfor ( var i = 0; i < length; i++ )\r\n\t   result.push(characters.charAt(Math.floor(Math.random() * charactersLength)))\r\n\t\r\n\treturn result.join('')\r\n }","import { Avatar, Box, Checkbox, Grid, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, makeStyles } from '@material-ui/core'\r\nimport { MusicNote, Image, Description, DescriptionTwoTone } from '@material-ui/icons'\r\nimport React from 'react'\r\nimport { truncate } from '../../../Helpers/Helpers'\r\n\r\ninterface Props {\r\n    className?: any\r\n\tfile: Doc\r\n\tprops: {\r\n\t\tchecked: string[]\r\n\t\thandleCheck: (value: string) => void\r\n\t\tselectedFile: string\r\n\t\tsetSelectedFile: (value: string) => void\r\n\t}\r\n\tconfiguration: {\r\n\t\tsecondary: boolean\r\n\t\tcontent: boolean\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchipContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tgap: '.5em',\r\n\t\tmarginRight: '0px'\r\n\t}\r\n}))\r\n\r\nconst ListItemFile: React.FC<Props> = ({\r\n    className,\r\n\tfile,\r\n\tprops: {\r\n\t\tchecked,\r\n\t\thandleCheck,\r\n\t\tselectedFile,\r\n\t\tsetSelectedFile,\r\n\t},\r\n\tconfiguration: {\r\n\t\tsecondary,\r\n\t\tcontent\r\n\t}\r\n}) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItem \r\n\t\t\tkey={file.id}\r\n\t\t\tonClick={() => setSelectedFile(file.id)}\r\n\t\t\tbutton\r\n\t\t\tclassName={className}\r\n\t\t>\r\n\t\t\t<Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t<Avatar variant=\"rounded\">\r\n\t\t\t\t\t\t\t{ file.id !== selectedFile ? <Description style={{ fontSize: 20 }} /> : <DescriptionTwoTone style={{ fontSize: 20 }} />}\r\n\t\t\t\t\t\t</Avatar>\r\n                  \t</ListItemAvatar>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={file.title}\r\n\t\t\t\t\t\tsecondary={secondary && file.text ? truncate(file.text, 50, true) : null}\r\n\t\t\t\t\t\tstyle={{ paddingRight: '35px' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{ content &&\r\n\t\t\t\t\t\t<div className={classes.chipContainer}>\r\n\t\t\t\t\t\t\t<Description color={ file.text ? 'inherit' : 'disabled' } />\r\n\t\t\t\t\t\t\t<Image color={ file.img ? 'inherit' : 'disabled' } />\r\n\t\t\t\t\t\t\t<MusicNote color={ file.music ? 'inherit' : 'disabled' } />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\t\r\n\t\t\t</Grid>\t\r\n\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\tonChange={() => handleCheck(file.id)}\r\n\t\t\t\t\tchecked={checked?.includes(file.id)}\r\n\t\t\t\t/>\r\n\t\t\t</ListItemSecondaryAction>\r\n\t\t</ListItem>\r\n\t)\r\n}\r\n\r\nexport default ListItemFile","import React, { useContext } from 'react'\r\nimport { contextData } from '../../../Providers/DataProvider'\r\nimport ListItemFile from './ListItemFile'\r\n\r\ninterface Props {\r\n\tconfiguration: any\r\n\tclassName?: any\r\n\tfile: Doc\r\n}\r\n\r\nconst ListItemFileContainer: React.FC<Props> = ({\r\n\tconfiguration,\r\n\tclassName,\r\n\tfile\r\n}) => {\r\n\tconst {\r\n\t\thooks: {\r\n\t\t\tcheck: { checked, addCheck, removeCheckByValue },\r\n\t\t\tfile: { selectedFile, setSelectedFile }\r\n\t\t}\r\n\t}: any = useContext(contextData)\r\n\r\n\tconst handleCheck = (id: string) =>\r\n\t\tchecked.includes(id)\r\n\t\t\t? removeCheckByValue(id)\r\n\t\t\t: addCheck(id)\r\n\r\n\treturn <ListItemFile \r\n\t\t{...{configuration, className, file}}\r\n\t\tprops={{ checked, handleCheck, selectedFile, setSelectedFile }}\r\n\t/>\r\n}\r\n\r\nexport default ListItemFileContainer\r\n","import { PopoverOrigin } from '@material-ui/core/Popover'\r\nimport React, { useContext, useState } from 'react'\r\nimport { contextData } from '../../../Providers/DataProvider'\r\nimport { contextEdit } from '../../../Providers/EditProvider'\r\nimport MenuDocument, { EMenuAppearance } from './MenuDocument'\r\n\r\ninterface Props {\r\n    appearance: EMenuAppearance\r\n    size?: 'small' | 'medium'\r\n\taltButton?: (onClick: any) => JSX.Element\r\n\ttransformOrigin?: PopoverOrigin\r\n\tid?: string\r\n}\r\n\r\nconst MenuDocumentContainer: React.FC<Props> = ({ \r\n\tappearance, \r\n\tsize,\r\n\taltButton,\r\n\ttransformOrigin,\r\n\tid\r\n}) => {\r\n    const { mode: [ , setMode ] }: any = useContext(contextEdit)\r\n\tconst { hooks: { collection: { setSelectedCollection } } }: any = useContext(contextData)\r\n\r\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null)\r\n\r\n    const handleClick = (event: any) =>\r\n        setAnchorEl(event.currentTarget)\r\n  \r\n    const handleClose = (value: any) => {\r\n        setMode(value)\r\n\t\tid && setSelectedCollection(id)\r\n\t\tsetAnchorEl(null)\r\n    }\r\n   \r\n    return <MenuDocument props={{\r\n\t\thandleClose, \r\n\t\thandleClick, \r\n\t\tanchorEl, \r\n\t\tappearance, \r\n\t\tsize, \r\n\t\taltButton, \r\n\t\ttransformOrigin\r\n    }} />\r\n}\r\n\r\nexport default MenuDocumentContainer\r\n","import { Avatar, Collapse, createStyles, IconButton, List, ListItem, ListItemAvatar, ListItemText, makeStyles, Theme } from '@material-ui/core'\r\nimport { ExpandLess, ExpandMore, Folder, FolderOpen } from '@material-ui/icons'\r\nimport React from 'react'\r\nimport ListItemFile from '../ListItemFile'\r\nimport MenuDocument from '../MenuDocument'\r\nimport { EMenuAppearance } from '../MenuDocument/MenuDocument'\r\n\r\ninterface Props { \r\n    collection: Collection\r\n    open: boolean\r\n    onClick: () => void\r\n\tconfiguration: {\r\n\t\tsecondary: boolean\r\n        content: boolean\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        accordion: {\r\n            display: 'flex !important'\r\n        },\r\n        nested: {\r\n            paddingLeft: theme.spacing(4),\r\n        },\r\n    }),\r\n)\r\n\r\nconst Collection: React.FC<Props> = ({\r\n    collection,\r\n    open,\r\n    onClick,\r\n\tconfiguration\r\n}) => {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <>\r\n            <ListItem className={classes.accordion}>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Avatar variant=\"rounded\">\r\n\t\t\t\t\t\t{ !open ? <Folder style={{ fontSize: 20 }} /> : <FolderOpen style={{ fontSize: 20 }} /> }\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t</ListItemAvatar>\r\n                <ListItemText primary={collection.title} />\r\n                { !!collection.docs?.length && \r\n\t\t\t\t\t<IconButton size=\"small\" onClick={onClick}>{open ? <ExpandLess /> : <ExpandMore />}</IconButton> \r\n\t\t\t\t}\r\n                <MenuDocument appearance={EMenuAppearance.collection} size=\"small\" id={collection.id} />\r\n            </ListItem>\r\n            { !!collection.docs?.length &&\r\n\t\t\t\t<Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n\t\t\t\t\t<List component=\"div\" disablePadding>\r\n\t\t\t\t\t\t{ collection.docs.map((doc: Doc) =>\r\n\t\t\t\t\t\t\t<ListItemFile\r\n\t\t\t\t\t\t\t\tkey={doc.id}\r\n\t\t\t\t\t\t\t\tclassName={classes.nested}\r\n\t\t\t\t\t\t\t\tfile={doc}\r\n\t\t\t\t\t\t\t\tconfiguration={configuration}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Collapse>\r\n\t\t\t}\r\n        </>\r\n    )\r\n}\r\nexport default Collection\r\n","import React, { useEffect } from 'react'\r\nimport useBoolean from 'bjork_react-hookup/core/useBoolean'\r\nimport Collection from './Collection'\r\n\r\ninterface Props {\r\n\tcollection: Collection\r\n\tconfiguration: any\r\n}\r\n\r\nconst CollectionContainer: React.FC<Props> = ({ \r\n    collection, \r\n    configuration\r\n}) => {\r\n    const [ open, , { toggle: toggleOpen, setFalse: close } ] = useBoolean()\r\n\r\n\tuseEffect(() => !collection.docs?.length && close())\r\n    \r\n    return <Collection {...{collection, configuration, open, onClick: toggleOpen}} />\r\n}\r\n\r\nexport default CollectionContainer","import React from 'react'\r\nimport { List, Typography, Divider, Box, Button } from \"@material-ui/core\"\r\nimport './List.sass'\r\nimport Collection from '../Collection'\r\nimport ListItemFile from '../ListItemFile'\r\nimport { Empty } from 'antd'\r\nimport MenuDocument from '../MenuDocument'\r\nimport { Add } from '@material-ui/icons'\r\nimport { EMenuAppearance } from '../MenuDocument/MenuDocument'\r\n\r\ninterface Props {\r\n\tlist: { [key: string]: Doc[] }\r\n\tcollections: Collection[]\r\n\tconfiguration: {\r\n\t\tdense: boolean,\r\n\t\tsecondary: boolean,\r\n\t\tcontent: boolean\r\n\t}\r\n}\r\n\r\nconst _List: React.FC<Props> = ({\r\n\tlist,\r\n\tcollections,\r\n\tconfiguration\r\n}) => {\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ collections.map((collection: Collection) => \r\n\t\t\t\t<Collection \r\n\t\t\t\t\tkey={collection.id}\r\n\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\tconfiguration={configuration}\r\n\t\t\t\t/>)\r\n\t\t\t}\r\n\t\t\t{ Object.entries(list).length ?\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t{ Object.entries(list).map(([key, files]) =>\r\n\t\t\t\t\t\t<List dense={configuration.dense} key={key+'List'} id={'group-'+key.charCodeAt(0)}>\r\n\r\n\t\t\t\t\t\t\t<Box pl={2} >\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\tdisplay=\"block\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t<Divider />\r\n\r\n\t\t\t\t\t\t\t{ files.map(file =>\r\n\t\t\t\t\t\t\t\t<ListItemFile \r\n\t\t\t\t\t\t\t\t\tkey={file.id}\r\n\t\t\t\t\t\t\t\t\tfile={file}\r\n\t\t\t\t\t\t\t\t\tconfiguration={configuration}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t: \r\n\t\t\t\t<Box style={{ display: 'grid', placeContent: 'center', height: '80%' }}>\r\n\t\t\t\t\t<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description={<span>No songs</span>}>\r\n\t\t\t\t\t\t<MenuDocument \r\n\t\t\t\t\t\t\taltButton={(onClick) =>\r\n\t\t\t\t\t\t\t\t<Button onClick={onClick} variant=\"contained\" color=\"primary\" size=\"large\">\r\n\t\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\tappearance={EMenuAppearance.add}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Empty>\r\n\t\t\t\t</Box>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default _List","import React, { useContext } from 'react'\r\nimport { contextData } from '../../../Providers/DataProvider'\r\nimport List from './List'\r\n\r\ninterface Props {\r\n\tlist: { [key: string]: Doc[] },\r\n\tconfiguration: {\r\n\t\tdense: boolean,\r\n\t\tsecondary: boolean,\r\n\t\tcontent: boolean\r\n\t}\r\n}\r\n\r\nconst ListContainer: React.FC<Props> = ({ \r\n\tlist,\r\n\tconfiguration\r\n}) => {\r\n\tconst { collections }: any = useContext(contextData)\r\n\r\n\treturn (\r\n\t\t<List \r\n\t\t\t{...{list, configuration, collections}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default ListContainer","import React from 'react'\r\nimport { Box, makeStyles } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'absolute',\r\n        display: 'flex',\r\n\t\talignItems: 'end',\r\n        bottom: theme.spacing(2),\r\n        right: 'calc(25vw - 40px)',\r\n        gap: theme.spacing(2),\r\n    }\r\n}))\r\n\r\nconst FabBox = (bind: any) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Box className={classes.root}>\r\n            { bind.children }\r\n        </Box>\r\n    )\r\n} \r\n\r\nexport default FabBox","import React from 'react'\r\nimport FabBox from './FabBox'\r\n\r\nconst FabBoxContainer = (bind: any) => {\r\n\r\n    return <FabBox { ...bind } />\r\n}\r\n\r\nexport default FabBoxContainer","import React from 'react'\r\nimport { makeStyles, Card, CardHeader, CardContent, Box, CardMedia, Typography, Fab, CardActions } from '@material-ui/core'\r\nimport { Empty } from 'antd'\r\nimport MenuDocument from '../components/MenuDocument'\r\nimport { Delete, Edit } from '@material-ui/icons'\r\nimport FabBox from '../components/FabBox/FabBoxContainer'\r\nimport { EMenuAppearance } from '../components/MenuDocument/MenuDocument'\r\nimport { baseUrl } from '../../Hooks/useServer'\r\nimport ReactAudioPlayer from 'react-audio-player'\r\n\r\ninterface Props {\r\n\tfile: Doc | undefined\r\n\tstyle?: object\r\n\tedit?: () => void\r\n\tremove?: () => void\r\n\tprops: {\r\n\t\trefMounted: any\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tfabBoxRel: {\r\n\t\tposition: 'relative'\r\n\t},\r\n\tscrollBox: {\r\n\t\toverflowY: 'scroll',\r\n\t\theight: 'calc(100vh - 50px)'\r\n\t},\r\n\talignCard: {\r\n\t\tminHeight: '100%',\r\n\t\tdisplay: 'grid',\r\n\t\tplaceContent: 'center',\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tpadding: theme.spacing(0, 4, 0, 4) \r\n\t\t}\r\n\t},\r\n\tcard: {\r\n\t\tminWidth: '45ch',\r\n\t\tmaxWidth: '90ch'\r\n\t},\r\n\tcardContent: {\r\n\t\twhiteSpace: 'pre-line' \r\n\t},\r\n\taudioBox: {\r\n\t\tdisplay: 'grid',\r\n\t\tplaceContent: 'center',\r\n\t},\r\n}))\r\n\r\nconst Document: React.FC<Props> = ({\r\n\tfile,\r\n\tstyle,\r\n\tedit,\r\n\tremove,\r\n\tprops: {\r\n\t\trefMounted\r\n\t}\r\n}) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box className={classes.fabBoxRel}>\r\n\t\t\t<Box className={classes.scrollBox}>\r\n\t\t\t\t<Box className={classes.alignCard} style={style}>\r\n\t\t\t\t\t{ file ?\r\n\t\t\t\t\t\t<Card className={classes.card}>\r\n\t\t\t\t\t\t\t<CardHeader \r\n\t\t\t\t\t\t\t\ttitle={file.title}\r\n\t\t\t\t\t\t\t\tsubheader={ file.subtitle && file.subtitle }\r\n\t\t\t\t\t\t\t\taction={ <MenuDocument appearance={EMenuAppearance.doc} /> } \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{ file.img && <CardMedia component=\"img\" width='100%' image={baseUrl+file.img.url}></CardMedia> }\r\n\t\t\t\t\t\t\t{ file.music && \r\n\t\t\t\t\t\t\t\t<Box className={classes.audioBox}>\r\n\t\t\t\t\t\t\t\t\t<CardActions><ReactAudioPlayer src={baseUrl+file.music.url} controls /></CardActions>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{ file.text &&\r\n\t\t\t\t\t\t\t\t<CardContent className={classes.cardContent}>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t\t\t{file.text}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t: \r\n\t\t\t\t\t\t<Box className={classes.alignCard} style={style}>\r\n\t\t\t\t\t\t\t<Empty description={<span>Waiting on a song...</span>} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Box>\r\n\t\t\t\t{ file && (edit || remove) &&\r\n\t\t\t\t\t<FabBox>\r\n\t\t\t\t\t\t{ remove && <Fab color=\"secondary\" size=\"small\" aria-label=\"edit\" onClick={remove}><Delete /></Fab> }\r\n\t\t\t\t\t\t{ edit && <Fab color=\"primary\" size=\"small\" aria-label=\"edit\" onClick={edit}><Edit /></Fab> }\r\n\t\t\t\t\t</FabBox>\r\n\t\t\t\t}\r\n\t\t\t\t<div ref={refMounted}></div>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default Document\r\n","import React, { useContext } from 'react'\r\nimport { contextAuth } from '../../Providers/AuthProvider'\r\nimport { contextData } from '../../Providers/DataProvider'\r\nimport { contextEdit, EModal, EQuantity, EType } from '../../Providers/EditProvider'\r\nimport Document from './Document'\r\n\r\nconst DocumentContainer: React.FC = () => {\r\n\tconst {\r\n\t\tfiles,\r\n\t\thooks: {\r\n\t\t\tfile: { selectedFile }\r\n\t\t}\r\n\t}: any = useContext(contextData)\r\n\r\n\tconst { refMounted }: any = useContext(contextAuth)\r\n\r\n\tconst { mode: [ , setMode ] }: any = useContext(contextEdit)\r\n\r\n\tconst file = files.find(((file: Doc) => file.id === selectedFile))\r\n\r\n\tconst edit = () => setMode({ modal: EModal.edit, type: EType.doc, quantity: EQuantity.single })\r\n\tconst remove = () => setMode({ modal: EModal.remove, type: EType.doc, quantity: EQuantity.single })\r\n\t\r\n\treturn <Document\r\n\t\tfile={file}\r\n\t\tedit={edit}\r\n\t\tremove={remove}\r\n\t\tprops={{ refMounted }}\r\n\t/>\r\n}\r\n\r\nexport default DocumentContainer\r\n","import { AppBar, Button, FormControlLabel, makeStyles, Switch, Toolbar } from '@material-ui/core'\r\nimport { Drawer } from 'antd'\r\nimport React from 'react'\r\nimport MenuDocument from '../MenuDocument'\r\nimport { EMenuAppearance } from '../MenuDocument/MenuDocument'\r\n\r\ninterface Props {\r\n\tprops: {\r\n\t\tdense: boolean,\r\n\t\ttoggleDense: () => void,\r\n\t\tsecondary: boolean,\r\n\t\ttoggleSecondary: () => void,\r\n\t\tcontent: boolean,\r\n\t\ttoggleContent: () => void,\r\n\t\tdrawer: boolean,\r\n\t\tsetFalse: () => void,\r\n\t\tsetTrue: () => void,\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\ttoolbar: {\r\n\t\tdisplay: 'grid',\r\n\t\tgridAutoFlow: 'column',\r\n\t\tpaddingTop: theme.spacing(1),\r\n\t\tpaddingBottom: theme.spacing(2),\r\n\t}\r\n}))\r\n\r\nconst ListToolbar: React.FC<Props> = ({\r\n\tprops: {\r\n\t\tdense,\r\n\t\ttoggleDense,\r\n\t\tsecondary,\r\n\t\ttoggleSecondary,\r\n\t\tcontent,\r\n\t\ttoggleContent,\r\n\t\tdrawer,\r\n\t\tsetFalse,\r\n\t\tsetTrue\r\n\t} \r\n}) => {\r\n\tconst classes = useStyles()\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<AppBar position=\"static\" color=\"inherit\" variant=\"outlined\">\r\n\t\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t\t<Button onClick={setTrue}>\r\n\t\t\t\t\t\t\tAppearance\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<div style={{ justifySelf: 'end' }}>\r\n\t\t\t\t\t\t\t<MenuDocument appearance={EMenuAppearance.list} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Basic Drawer\"\r\n\t\t\t\tplacement=\"left\"\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tonClose={setFalse}\r\n\t\t\t\tvisible={drawer}\r\n\t\t\t\t>\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tcontrol={<Switch checked={dense} onChange={toggleDense} />}\r\n\t\t\t\t\tlabel=\"Dense\"\r\n\t\t\t\t\tlabelPlacement=\"top\"\r\n\t\t\t\t/>\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tcontrol={<Switch checked={secondary} onChange={toggleSecondary} />}\r\n\t\t\t\t\tlabel=\"Text\"\r\n\t\t\t\t\tlabelPlacement=\"top\"\r\n\t\t\t\t/>\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tcontrol={<Switch checked={content} onChange={toggleContent} />}\r\n\t\t\t\t\tlabel=\"Content\"\r\n\t\t\t\t\tlabelPlacement=\"top\"\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ListToolbar\r\n","import React from 'react'\r\nimport ListToolbar from './ListToolbar'\r\nimport useBoolean from 'bjork_react-hookup/core/useBoolean'\r\n\r\nconst ListToolbarContainer = ({ props }: { props: any }) => {\r\n\tconst [ drawer, , { setFalse, setTrue } ] = useBoolean(undefined)\r\n\t\r\n\treturn <ListToolbar props={{ drawer, setFalse, setTrue, ...props }} />\r\n}\r\n\r\nexport default ListToolbarContainer\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport Slider, { Mark as MuiMark } from '@material-ui/core/Slider'\r\n\r\nexport interface Mark extends MuiMark {  }\r\n\r\ninterface Props {\r\n\tmarks: Mark[],\r\n\thandleChange: (e: object, value: number | number[]) => void\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\theight: '50vh',\r\n\t\tposition: 'fixed'\r\n\t},\r\n\tmarkLabel: {\r\n\t\tmarginLeft: -theme.spacing(4)\r\n\t},\r\n\trail: {\r\n\t\tbackgroundColor: '#aaa'\r\n\t},\r\n\tthumb: {\r\n\t\tbackgroundColor: '#555',\r\n\t\theight: 6,\r\n\t\twidth: 6,\r\n\t\tmargin: '0 -2.5px -2.5px -2.5px !important',\r\n\t}\r\n}))\r\n\r\nconst AlphabeticalSlider: React.FC<Props> = ({\r\n\tmarks,\r\n\thandleChange\r\n}) => {\r\n\tconst { root, ...slider} = useStyles()\r\n\r\n\treturn (\r\n\t\tmarks.length ?\r\n\t\t\t<div className={root}>\r\n\t\t\t\t<Slider\r\n\t\t\t\t\tkey={'slider-'+marks.length}\r\n\t\t\t\t\torientation=\"vertical\"\r\n\t\t\t\t\tdefaultValue={marks.length}\r\n\t\t\t\t\tmax={marks.length}\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\tclasses={slider}\r\n\t\t\t\t\ttrack={false}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t: <></>\r\n\t)\r\n}\r\nexport default AlphabeticalSlider\r\n","import React from 'react'\r\nimport AlphabeticalSlider, { Mark } from './AlphabeticalSlider'\r\nimport { scrollContainerChildIntoView } from '../../../Helpers'\r\n\r\ninterface Tuple {\r\n\t0: string,\r\n\t1: number\r\n}\r\n\r\ninterface Props {\r\n\tlist: Tuple[]\r\n}\r\n\r\nconst construct = (arr: Tuple[]): Mark[] => \r\n\tarr.map((value): Mark => \r\n\t\t({ label: value[0], value: arr.length-value[1] })\r\n\t)\r\n\r\nconst AlphabeticalSliderContainer: React.FC<Props> = ({ list }) => {\r\n\tconst marks = construct(list)\r\n\t\r\n\tconst handleChange = (e: object, value: number | number[]): void => {\r\n\t\tconst key: any = marks.find(mark=>mark.value === value)?.label\r\n\t\tif(!key) return\r\n\t\tscrollContainerChildIntoView({\r\n\t\t\tcontainer: document.querySelector(\".list\"), \r\n\t\t\ttarget: document.querySelector(`#group-${key.charCodeAt(0)}`), \r\n\t\t\tduration: 300,\r\n\t\t\toptions: { offsetY: -(document.querySelector(\".list\")?.clientHeight ?? 0)/4 }\r\n\t\t})\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<AlphabeticalSlider \r\n\t\t\tmarks={marks} \r\n\t\t\thandleChange={handleChange}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AlphabeticalSliderContainer\r\n","import React from 'react'\r\nimport { Hidden, Grid, Fab, makeStyles, Tooltip } from '@material-ui/core'\r\nimport { Add, LoopRounded } from '@material-ui/icons'\r\nimport { Affix } from 'antd'\r\nimport List from '../components/List'\r\nimport Document from '../Document'\r\nimport ListToolbar from '../components/ListToolbar'\r\nimport AlphabeticalSlider from '../components/AlphabeticalSlider'\r\nimport FabBox from '../components/FabBox/FabBoxContainer'\r\nimport MenuDocument from '../components/MenuDocument'\r\nimport { group } from '../../Helpers/Helpers'\r\nimport { EMenuAppearance } from '../components/MenuDocument/MenuDocument'\r\n\r\ninterface Props {\r\n\tprops: {\r\n\t\tfiles: Doc[]\r\n\t\tdense: boolean\r\n\t\ttoggleDense: () => void\r\n\t\tsecondary: boolean\r\n\t\ttoggleSecondary: () => void\r\n\t\tcontent: boolean,\r\n\t\ttoggleContent: () => void\r\n\t\tlistContainer: HTMLElement | null\r\n\t\tsetListContainer: (instance: HTMLDivElement | null) => void\r\n\t\treload: () => void\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: { \r\n\t\theight: 'calc( 100vh - 50px )'\r\n\t},\r\n\tfabBocRel: { \r\n\t\tposition: 'relative'\r\n\t},\r\n\tfolderAligner: {\r\n\t\tdisplay: 'grid',\r\n\t\tplaceContent: 'center',\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tpadding: theme.spacing(0, 4, 0, 4) \r\n\t\t}\r\n\t},\r\n\tinheritHeight: {\r\n\t\theight: 'inherit'\r\n\t},\r\n\tfullWidth: {\r\n\t\twidth: '100%'\r\n\t},\r\n\tlistContainer: {\r\n\t\theight: 'inherit',\r\n\t\tpaddingTop: theme.spacing(4) \r\n\t},\r\n\tfolder: {\r\n\t\tminWidth: '45ch',\r\n\t\twidth: '50vw',\r\n\t\tmaxWidth: '90ch'\r\n\t},\r\n}))\r\n\r\nconst Folder: React.FC<Props> = ({ \r\n\tprops: { \r\n\t\tfiles,\r\n\t\tdense,\r\n\t\ttoggleDense,\r\n\t\tsecondary,\r\n\t\ttoggleSecondary,\r\n\t\tcontent,\r\n\t\ttoggleContent,\r\n\t\tlistContainer,\r\n\t\tsetListContainer,\r\n\t\treload\r\n\t} \r\n}) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Grid container className={classes.root}>\r\n\t\t\t<Grid item xs={12} md={6} className={`${classes.inheritHeight} ${classes.fabBocRel}`}>\r\n\t\t\t\t<Grid ref={setListContainer} className={`list ${classes.folderAligner} ${classes.inheritHeight}`}>\r\n\t\t\t\t\t<Grid container direction=\"row\" className={`${classes.inheritHeight} ${classes.folder}`}>\r\n\t\t\t\t\t\t<Grid className={classes.fullWidth}>\r\n\t\t\t\t\t\t\t<Affix target={() => listContainer}>\r\n\t\t\t\t\t\t\t\t<ListToolbar props={{\r\n\t\t\t\t\t\t\t\t\tdense,\r\n\t\t\t\t\t\t\t\t\ttoggleDense,\r\n\t\t\t\t\t\t\t\t\tsecondary,\r\n\t\t\t\t\t\t\t\t\ttoggleSecondary,\r\n\t\t\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\t\t\ttoggleContent,\r\n\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t</Affix>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid container className={classes.listContainer} spacing={4}>\r\n\t\t\t\t\t\t\t<Grid item xs={11}>\r\n\t\t\t\t\t\t\t\t<List \r\n\t\t\t\t\t\t\t\t\tlist={group(files)} \r\n\t\t\t\t\t\t\t\t\tconfiguration={{ \r\n\t\t\t\t\t\t\t\t\t\tdense, \r\n\t\t\t\t\t\t\t\t\t\tsecondary, \r\n\t\t\t\t\t\t\t\t\t\tcontent\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={1}>\r\n\t\t\t\t\t\t\t\t<AlphabeticalSlider \r\n\t\t\t\t\t\t\t\t\tlist={ Object.keys(group(files)).map((k,i)=>[k,i]) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<FabBox>\r\n\t\t\t\t\t<Tooltip title=\"Refresh\" aria-label=\"Refresh\">\r\n\t\t\t\t\t\t<Fab onClick={reload} color=\"default\" size=\"small\"><LoopRounded /></Fab>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<MenuDocument\r\n\t\t\t\t\t\ttransformOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n\t\t\t\t\t\tappearance={EMenuAppearance.add} \r\n\t\t\t\t\t\taltButton={(onClick: any) => \r\n\t\t\t\t\t\t\t<Fab onClick={onClick} color=\"primary\" size=\"small\"><Add /></Fab>\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</FabBox>\r\n\t\t\t</Grid>\r\n\t\t\t\r\n\t\t\t<Hidden smDown>\r\n\t\t\t\t<Grid item md={6}><Document /></Grid>\r\n\t\t\t</Hidden>\r\n\t\t</Grid>\r\n\t)\r\n}\r\nexport default Folder\r\n","import React, { useContext, useState } from 'react'\r\nimport { contextData } from '../../Providers/DataProvider'\r\nimport Folder from './Folder'\r\nimport useBoolean from 'bjork_react-hookup/core/useBoolean'\r\n\r\nconst FolderContainer: React.FC = () => {\r\n\tconst { files, reload }: any = useContext(contextData)\r\n\tconst [ dense, , { toggle: toggleDense } ] = useBoolean()\r\n\tconst [ secondary, , { toggle: toggleSecondary } ] = useBoolean()\r\n\tconst [ content, , { toggle: toggleContent } ] = useBoolean()\r\n\tconst [ listContainer, setListContainer ] = useState<HTMLElement | null>(null)\r\n\r\n\treturn <Folder props={{ \r\n\t\tfiles, \r\n\t\tdense, \r\n\t\ttoggleDense, \r\n\t\tsecondary, \r\n\t\ttoggleSecondary, \r\n\t\tcontent, \r\n\t\ttoggleContent,\r\n\t\tlistContainer,\r\n\t\tsetListContainer,\r\n\t\treload\r\n\t}} />\r\n}\r\n\r\nexport default FolderContainer\r\n","import React from 'react'\r\nimport { Avatar, Box, Button, Card, CardActions, CardContent, CardHeader, CardMedia, Divider, IconButton, Link, List, ListItem, ListItemSecondaryAction, ListItemText, makeStyles, Tooltip, Typography } from '@material-ui/core'\r\nimport { ExitToApp } from '@material-ui/icons'\r\n\r\ninterface Props {\r\n\tlogout: () => void\r\n\tusername: string\r\n\thandleUsername?: () => void\r\n\thandleEmail?: () => void\r\n\thandlePassword?: () => void\r\n}\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: 'grid',\r\n\t\tplaceContent: 'center',\r\n\t\theight: '90vh'\r\n\t},\r\n\tcard: {\r\n\t\tpadding: theme.spacing(3, 2),\r\n\t\tminWidth: '50ch',\r\n\t},\r\n\tname: {\r\n\t\tdisplay: 'grid',\r\n\t\tplaceContent: 'center',\r\n\t\theight: '125px',\r\n\t\twidth: '100%',\r\n\t\tpadding: theme.spacing(0, 0, 1, 0)\r\n\t},\r\n\tavatar: {\r\n\t\twidth: theme.spacing(4),\r\n\t\theight: theme.spacing(4)\r\n\t},\r\n\tactionBox: {\r\n\t\tdisplay: 'grid',\r\n\t\tplaceContent: 'center',\r\n\t\tpadding: theme.spacing(6, 0, 0, 0)\r\n\t},\r\n\twarningLink: {\r\n\t\tcolor: '#ff9800'\r\n\t},\r\n\tdisabledLink: {\r\n\t\tcolor: '#64b5f6'\r\n\t}\r\n}))\r\n\r\nconst User: React.FC<Props> = ({ \r\n\tlogout, \r\n\tusername, \r\n\thandleUsername, \r\n\thandleEmail, \r\n\thandlePassword \r\n}) => {\r\n\tconst classes = useStyle()\r\n\r\n\tconst disabledLink: { underline: 'none', component: 'button', disabled: boolean, className: string } = {\r\n\t\tunderline: 'none',\r\n\t\tcomponent: 'button',\r\n\t\tdisabled: true,\r\n\t\tclassName: classes.disabledLink\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box className={classes.root}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t<CardHeader \r\n\t\t\t\t\tavatar={<Avatar className={classes.avatar} />}\r\n\t\t\t\t\ttitle={<Typography variant=\"subtitle1\">User</Typography>}\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<Tooltip title=\"Logout\" aria-label=\"loguot\">\r\n\t\t\t\t\t\t\t<IconButton onClick={logout}><ExitToApp /></IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<CardMedia className={classes.name}>\r\n\t\t\t\t\t<Typography variant=\"h5\">{username}</Typography>\r\n\t\t\t\t</CardMedia>\r\n\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\tUsername\r\n\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t{ handleUsername \r\n\t\t\t\t\t\t\t\t\t? <Link>Update</Link>\r\n\t\t\t\t\t\t\t\t\t: <Link {...disabledLink}>Update</Link>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t{ handleEmail\r\n\t\t\t\t\t\t\t\t\t? <Link className={classes.warningLink}>Change</Link>\r\n\t\t\t\t\t\t\t\t\t: <Link {...disabledLink}>Change</Link>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t<ListItemSecondaryAction\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ handlePassword\r\n\t\t\t\t\t\t\t\t\t? <Link className={classes.warningLink}>Change</Link>\r\n\t\t\t\t\t\t\t\t\t: <Link {...disabledLink}>Change</Link>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</CardContent>\r\n\r\n\t\t\t\t<CardActions className={classes.actionBox}>\r\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" size=\"small\" startIcon={<ExitToApp />} onClick={logout}>Logout</Button>\r\n\t\t\t\t\t<Button color=\"secondary\" variant=\"text\" size=\"small\" disabled>Delete</Button>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default User\r\n","import React, { useContext } from 'react'\r\nimport { contextAuth } from '../../Providers/AuthProvider'\r\nimport { contextData } from '../../Providers/DataProvider'\r\nimport User from './User'\r\n\r\nconst UserContainer = () => {\r\n\tconst { logout }: any = useContext(contextAuth)\r\n\tconst { user: { username } }: any = useContext(contextData)\r\n\r\n\tconst handleEmail = () => {\r\n\r\n\t}\r\n\tconst handleUsername = () => {\r\n\r\n\t}\r\n\tconst handlePassword = () => {\r\n\r\n\t}\r\n\r\n\treturn <User {...{logout, username, handleEmail: undefined, handleUsername: undefined, handlePassword: undefined}} /> \r\n}\r\n\r\nexport default UserContainer\r\n","import React from 'react'\r\nimport { Grid, makeStyles } from '@material-ui/core'\r\nimport Navbar from '../Navbar'\r\nimport Folder from '../Folder'\r\nimport Document from '../Document'\r\nimport User from '../User'\r\nimport { navigation } from '../../Providers/PageProvider'\r\n\r\ninterface Props {\r\n\tpage: navigation\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\theight: '100vh'\r\n\t}\r\n}))\r\n\r\nconst Main: React.FC<Props> = ({ page }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Grid className={classes.root}>\r\n\t\t\t<div style={page === navigation.folder ? {} : {display: 'none'}}>\r\n\t\t\t\t<Folder />\r\n\t\t\t</div>\r\n\t\t\t<div style={page === navigation.selected ? {} : {display: 'none'}}>\r\n\t\t\t\t<Document />\r\n\t\t\t</div>\r\n\t\t\t{ page === navigation.user && \r\n\t\t\t\t<User />\r\n\t\t\t}\r\n\t\t\t<Navbar />\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default Main\r\n","import React, { useContext } from 'react'\r\nimport { contextPage } from '../../Providers/PageProvider'\r\nimport Main from './Main'\r\n\r\nconst MainContainer: React.FC = ({ props }: any) => {\r\n\tconst { page }: any = useContext(contextPage)\r\n\r\n\treturn <Main page={page} />\r\n}\r\n\r\nexport default MainContainer","import React from 'react'\r\nimport ThemeProvider from '../Providers/ThemeProvider'\r\nimport FilesProvider from '../Providers/DataProvider'\r\nimport PageProvider from '../Providers/PageProvider'\r\nimport EditProvider from '../Providers/EditProvider'\r\nimport Main from './Main'\r\n\r\nconst App: React.FC<any> = bind =>\r\n\t<ThemeProvider>\r\n\t\t<PageProvider>\r\n\t\t\t<FilesProvider>\r\n\t\t\t\t<EditProvider>\r\n\r\n\t\t\t\t\t<Main { ...bind } />\r\n\r\n\t\t\t\t</EditProvider>\r\n\t\t\t</FilesProvider>\r\n\t\t</PageProvider>\r\n\t</ThemeProvider>\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport App from './App'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\nimport 'antd/dist/antd.css'\r\n\r\ninterface Props {\r\n\trefMounted: any\r\n}\r\n\r\nconst AppContainer: React.FC<Props> = (props) => {\r\n\t\r\n\treturn <App props={props} />\r\n}\r\n\r\nexport default AppContainer","import { useState, useEffect } from 'react'\r\n\r\nconst QUERY = '(prefers-reduced-motion: reduce)'\r\n\r\nconst initial = window.matchMedia(QUERY)\r\n\r\n/**\r\n * @returns {boolean}\r\n */\r\nconst useReduceMotion = () => {\r\n\tconst [matches, setMatch] = useState(initial.matches)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleChange = () => setMatch(initial.matches)\r\n\r\n\t\thandleChange()\r\n\t\t\r\n\t\tinitial.addEventListener('change', handleChange)\r\n\t\treturn () => {\r\n\t\t\tinitial.removeEventListener('change', handleChange)\r\n\t\t}\r\n\t})\r\n\t\r\n  \treturn matches\r\n}\r\n\r\nexport default useReduceMotion","import React from 'react'\r\nimport useReduceMotion from '../Hooks/useReduceMotion'\r\nimport Loader from 'react-loader-spinner'\r\n\r\nconst bind = (reduceMotion:  boolean) => (\r\n\treduceMotion ? {\r\n\t\ttype: 'Bars',\r\n\t\tcolor: \"#6c757d\",\r\n\t\theight: 175,\r\n\t\twidth: 175,\r\n\t} : {\r\n\t\ttype: 'ThreeDots',\r\n\t\tcolor: \"#6c757d\",\r\n\t\theight: 100,\r\n\t\twidth: 100,\r\n\t}\r\n)\r\n\r\ninterface Props {\r\n\tloading: any\r\n}\r\n\r\nconst LoadingScreen: React.FC<Props> = ({ loading }) => {\r\n\tconst reduceMotion = useReduceMotion()\r\n\t\r\n\treturn loading ? \r\n\t\t\t<div style={{ position: 'absolute', top: 0, left: 0, background: '#F5F5F5' }}>\r\n\t\t\t\t<div style={{ display: 'grid', height: '100vh', width: '100vw', placeContent: 'center' }}>\r\n\t\t\t\t\t<Loader { ...bind(!reduceMotion) } />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t: <></>\r\n\t\r\n}\r\n\r\nexport default LoadingScreen","import { LockOutlined, MailOutlined, UserOutlined } from '@ant-design/icons'\r\nimport { Button, Form, Input } from 'antd'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport App from '..'\r\nimport './Auth.sass'\r\nimport 'antd/dist/antd.css'\r\nimport { Box, Card, Link, makeStyles } from '@material-ui/core'\r\nimport GoogleLogin from 'react-google-login'\r\nimport { EAuthState } from '../../Providers/AuthProvider'\r\nimport LoadingScreen from '../LoadingScreen'\r\nimport { FormInstance } from 'antd/lib/form'\r\n\r\ninterface Props {\r\n\tauthState: EAuthState\r\n\ttoggleForm: () => void\r\n\thandleFinish: (values: any) => void\r\n\tsubmitState: any\r\n\trefMounted: any\r\n\terror: { customErrors: any, removeError: any }\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: 'grid',\r\n\t\tplaceContent: 'center',\r\n\t\theight: '90vh'\r\n\t},\r\n\tcard: {\r\n\t\tpadding: theme.spacing(3, 2),\r\n\t\tmaxWidth: '80ch',\r\n\t},\r\n}))\r\n\r\nconst responseGoogle = (response: any) => {\r\n\tconsole.log(response)\r\n}\r\n\r\nconst formItemValidator = (value: any) => ({ validator: () => value ? Promise.reject(value) : Promise.resolve() })\r\n\r\nconst Auth: React.FC<Props> = ({ \r\n\tauthState, \r\n\ttoggleForm, \r\n\thandleFinish, \r\n\tsubmitState, \r\n\trefMounted,\r\n\terror: { customErrors, removeError }\r\n}) => {\r\n\tconst \r\n\t\trefForm = useRef<FormInstance<any> | undefined>(undefined),\r\n\t\tclasses = useStyles()\r\n\r\n\tconst handleValuesChanged = (changedValues: any) =>\r\n\t\tObject.keys(changedValues).forEach(key=>removeError(key))\r\n\r\n\tuseEffect(() => {\r\n\t\trefForm.current && refForm.current.validateFields(Object.keys(customErrors))\r\n\t}, [customErrors])\r\n\r\n\tconst formProps = { refForm, handleFinish, toggleForm, submitState, refMounted, customErrors, onValuesChange: handleValuesChanged }\r\n\r\n\treturn authState === EAuthState.authorized ? <App refMounted={refMounted} />\r\n\t\t: authState === EAuthState.loading ? <LoadingScreen loading={refMounted} />\r\n\t\t:\r\n\t\t<Box className={classes.root}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t{ authState === EAuthState.login && <Login {...formProps} /> }\r\n\t\t\t\t\r\n\t\t\t\t{ authState === EAuthState.register && <Register {...formProps} /> }\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n}\r\n\r\nconst Login: React.FC<{\r\n\trefForm:any\r\n\thandleFinish: (values: any) => void \r\n\ttoggleForm?: () => void\r\n\tsubmitState: any\r\n\trefMounted: any\r\n\tcustomErrors: any\r\n\tonValuesChange: any\r\n}> = ({ \r\n\trefForm,\r\n\thandleFinish,\r\n\ttoggleForm,\r\n\tsubmitState,\r\n\trefMounted,\r\n\tcustomErrors,\r\n\tonValuesChange\r\n}) => {\r\n\tconst [form] = Form.useForm()\r\n\r\n\trefForm.current = form\r\n\r\n\treturn (\r\n\t\t<Form\r\n\t\t\tform={form}\r\n\t\t\tname=\"normal_login\"\r\n\t\t\tclassName=\"form\"\r\n\t\t\tonFinish={handleFinish}\r\n\t\t\tref={refMounted}\r\n\t\t>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"email\"\r\n\t\t\t\trules={[{ required: true, message: 'Please input your Email!' }]}\r\n\t\t\t>\r\n\t\t\t\t<Input prefix={<MailOutlined />} placeholder=\"Email\" />\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\trules={[{ required: true, message: 'Please input your Password!' }]}\r\n\t\t\t>\r\n\t\t\t\t<Input.Password\r\n\t\t\t\t\tprefix={<LockOutlined />}\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t/>\r\n\t\t\t</Form.Item>\r\n\t\t\t{/* <Form.Item>\r\n\t\t\t\t<Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n\t\t\t\t\t<Checkbox>Remember me</Checkbox>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<a className=\"form-forgot\" href=\"\">\r\n\t\t\t\t\tForgot password\r\n\t\t\t\t</a>\r\n\t\t\t</Form.Item> */}\r\n\r\n\t\t\t<Form.Item>\r\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"form-button\" loading={submitState.pending}>\r\n\t\t\t\t\tLog in\r\n\t\t\t\t</Button>\r\n\t\t\t\t{ toggleForm && <Box>Or <Link onClick={toggleForm}>register now!</Link></Box>}\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item style={{ display: 'grid', placeContent: 'center' }}>\r\n\t\t\t\t<GoogleLogin\r\n\t\t\t\t\tclientId=\"597147752554-jjahlt7diu2b3v48gbldo8hq1bl2ovu3.apps.googleusercontent.com\"\r\n\t\t\t\t\tbuttonText=\"Login\"\r\n\t\t\t\t\tonSuccess={responseGoogle}\r\n\t\t\t\t\tonFailure={responseGoogle}\r\n\t\t\t\t\tcookiePolicy={'single_host_origin'}\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t/>\r\n\t\t\t</Form.Item>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\n\r\nconst Register: React.FC<{ \r\n\trefForm: any\r\n\thandleFinish: (values: any) => void\r\n\ttoggleForm: () => void\r\n\tsubmitState: any\r\n\trefMounted: any\r\n\tcustomErrors: any\r\n\tonValuesChange: any\r\n}> = ({\r\n\trefForm,\r\n\thandleFinish,\r\n\ttoggleForm,\r\n\tsubmitState,\r\n\trefMounted,\r\n\tcustomErrors,\r\n\tonValuesChange\r\n}) =>{ \r\n\tconst [form] = Form.useForm()\r\n\r\n\trefForm.current = form\r\n\t\r\n\treturn (\r\n\t\t<Form\r\n\t\t\tform={form}\r\n\t\t\tname=\"register\"\r\n\t\t\tinitialValues={{ remember: true }}\r\n\t\t\tonFinish={handleFinish}\r\n\t\t\tlayout='vertical'\r\n\t\t\tclassName='form-register'\r\n\t\t\tref={refMounted}\r\n\t\t\tonValuesChange={onValuesChange}\r\n\t\t>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"email\"\r\n\t\t\t\tlabel=\"E-mail\"\r\n\t\t\t\trules={[\r\n\t\t\t\t\t{ type: 'email', message: 'The input is not valid E-mail!' },\r\n\t\t\t\t\t{ required: true, message: 'Please input your E-mail!' },\r\n\t\t\t\t\tformItemValidator(customErrors?.email)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Input prefix={<MailOutlined />} />\r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"username\"\r\n\t\t\t\tlabel=\"Username\"\r\n\t\t\t\trules={[\r\n\t\t\t\t\t{ required: true, message: 'Please input an username!' },\r\n\t\t\t\t\tformItemValidator(customErrors?.username)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Input prefix={<UserOutlined />} />\r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\tlabel=\"Password\"\r\n\t\t\t\trules={[\r\n\t\t\t\t\t{ required: true, message: 'Please input your password!' },\r\n\t\t\t\t\tformItemValidator(customErrors?.password)\r\n\t\t\t\t]}\r\n\t\t\t\thasFeedback\r\n\t\t\t>\r\n\t\t\t\t<Input.Password prefix={<LockOutlined />} />\r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"confirm\"\r\n\t\t\t\tlabel=\"Confirm Password\"\r\n\t\t\t\tdependencies={['password']}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: 'Please confirm your password!',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t({ getFieldValue }) => ({\r\n\t\t\t\t\t\tvalidator: (_, value) => !(!value || getFieldValue('password') === value) \r\n\t\t\t\t\t\t\t? Promise.reject('The two passwords that you entered do not match!')\r\n\t\t\t\t\t\t\t: Promise.resolve()\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t}),\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Input.Password prefix={<LockOutlined />} />\r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t<Form.Item>\r\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"form-button\">\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t\tOr <Link onClick={toggleForm}>login</Link>\r\n\t\t\t</Form.Item>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nexport default Auth\r\n","import React, { useContext } from 'react'\r\nimport { EAuthState, contextAuth } from '../../Providers/AuthProvider'\r\nimport Auth from './Auth'\r\n\r\nconst AuthContainer = () => {\r\n\tconst { \r\n\t\tauthState,\r\n\t\tsetAuthState, \r\n\t\tsubmit,\r\n\t\tsubmitState,\r\n\t\trefMounted,\r\n\t\tcustomErrors,\r\n\t\tremoveError\r\n\t}: any = useContext(contextAuth)\r\n\r\n\tconst toggleForm = () => setAuthState(authState === EAuthState.login ? EAuthState.register : EAuthState.login)\r\n\t\r\n\treturn <Auth\r\n\t\tauthState={authState}\r\n\t\ttoggleForm={toggleForm}\r\n\t\thandleFinish={submit}\r\n\t\tsubmitState={submitState}\r\n\t\trefMounted={refMounted}\r\n\t\terror={{ customErrors, removeError }}\r\n\t/>\r\n}\r\n\r\nexport default AuthContainer\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n//import App from './App'\nimport Auth from './App/Auth'\nimport AuthProvider from './Providers/AuthProvider'\n\nReactDOM.render(<AuthProvider><Auth /></AuthProvider>, document.getElementById('root'))"],"sourceRoot":""}